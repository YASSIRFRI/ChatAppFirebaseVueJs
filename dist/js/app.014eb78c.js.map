{"version":3,"file":"js/app.014eb78c.js","mappings":"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","sources":["webpack://CS-Chat-App/./src/App.vue","webpack://CS-Chat-App/./src/App.vue?7ccd","webpack://CS-Chat-App/./src/views/Home.vue","webpack://CS-Chat-App/./src/components/chat/chat.vue","webpack://CS-Chat-App/./src/components/detail/detail.vue","webpack://CS-Chat-App/./src/firebase/Config.js","webpack://CS-Chat-App/./src/components/layout/loadingPage.vue","webpack://CS-Chat-App/./src/components/layout/loadingPage.vue?7221","webpack://CS-Chat-App/./src/components/detail/detail.vue?21e0","webpack://CS-Chat-App/./src/components/layout/filesPreview.vue","webpack://CS-Chat-App/./src/components/layout/filesPreview.vue?af13","webpack://CS-Chat-App/./src/components/chat/chat.vue?e1af","webpack://CS-Chat-App/./src/components/list/list.vue","webpack://CS-Chat-App/./src/components/list/chatlist/chatlist.vue","webpack://CS-Chat-App/./src/components/list/chatlist/chatlist.vue?5a52","webpack://CS-Chat-App/./src/components/list/userinfo/userinfo.vue","webpack://CS-Chat-App/./src/components/layout/logoutconfirmation.vue","webpack://CS-Chat-App/./src/components/layout/logoutconfirmation.vue?d138","webpack://CS-Chat-App/./src/components/list/userinfo/userinfo.vue?62ff","webpack://CS-Chat-App/./src/components/list/list.vue?3e44","webpack://CS-Chat-App/./src/components/modals/listmodal.vue","webpack://CS-Chat-App/./src/components/list/chatlist/chatlistmodal.vue","webpack://CS-Chat-App/./src/components/list/chatlist/chatlistmodal.vue?24af","webpack://CS-Chat-App/./src/components/list/userinfo/userinfomodal.vue","webpack://CS-Chat-App/./src/components/list/userinfo/userinfomodal.vue?923c","webpack://CS-Chat-App/./src/components/modals/listmodal.vue?b2f8","webpack://CS-Chat-App/./src/components/layout/welcomePage.vue","webpack://CS-Chat-App/./src/components/layout/welcomePage.vue?78cd","webpack://CS-Chat-App/./src/views/Home.vue?9051","webpack://CS-Chat-App/./src/views/LoginPage.vue","webpack://CS-Chat-App/./src/components/auth/loginForm.vue","webpack://CS-Chat-App/./src/components/auth/loginForm.vue?56c6","webpack://CS-Chat-App/./src/components/layout/intro.vue","webpack://CS-Chat-App/./src/components/layout/intro.vue?eaf4","webpack://CS-Chat-App/./src/views/LoginPage.vue?fce3","webpack://CS-Chat-App/./src/views/RegisterPage.vue","webpack://CS-Chat-App/./src/components/auth/registerform.vue","webpack://CS-Chat-App/./src/components/auth/registerform.vue?675c","webpack://CS-Chat-App/./src/views/RegisterPage.vue?5906","webpack://CS-Chat-App/./src/views/Chat.vue","webpack://CS-Chat-App/./src/views/Chat.vue?65ee","webpack://CS-Chat-App/./src/views/Invitations.vue","webpack://CS-Chat-App/./src/components/invitations/invitations.vue","webpack://CS-Chat-App/./src/components/invitations/invitations.vue?ed56","webpack://CS-Chat-App/./src/views/Invitations.vue?bdb5","webpack://CS-Chat-App/./src/views/AddnewCreateGroup.vue","webpack://CS-Chat-App/./src/views/AddnewCreateGroup.vue?7d75","webpack://CS-Chat-App/./src/views/ResetPasswordPage.vue","webpack://CS-Chat-App/./src/components/auth/ResetPasswordForm.vue","webpack://CS-Chat-App/./src/components/auth/ResetPasswordForm.vue?c75d","webpack://CS-Chat-App/./src/views/ResetPasswordPage.vue?30bc","webpack://CS-Chat-App/./src/views/Profile.vue","webpack://CS-Chat-App/./src/components/auth/EditForm.vue","webpack://CS-Chat-App/./src/components/auth/EditForm.vue?aa43","webpack://CS-Chat-App/./src/views/Profile.vue?24e8","webpack://CS-Chat-App/./src/views/NotFoundPage.vue","webpack://CS-Chat-App/./src/views/NotFoundPage.vue?c63c","webpack://CS-Chat-App/./src/router/index.js","webpack://CS-Chat-App/./src/main.js","webpack://CS-Chat-App/webpack/bootstrap","webpack://CS-Chat-App/webpack/runtime/chunk loaded","webpack://CS-Chat-App/webpack/runtime/compat get default export","webpack://CS-Chat-App/webpack/runtime/create fake namespace object","webpack://CS-Chat-App/webpack/runtime/define property getters","webpack://CS-Chat-App/webpack/runtime/ensure chunk","webpack://CS-Chat-App/webpack/runtime/get javascript chunk filename","webpack://CS-Chat-App/webpack/runtime/get mini-css chunk filename","webpack://CS-Chat-App/webpack/runtime/global","webpack://CS-Chat-App/webpack/runtime/hasOwnProperty shorthand","webpack://CS-Chat-App/webpack/runtime/load script","webpack://CS-Chat-App/webpack/runtime/make namespace object","webpack://CS-Chat-App/webpack/runtime/publicPath","webpack://CS-Chat-App/webpack/runtime/jsonp chunk loading","webpack://CS-Chat-App/webpack/startup"],"sourcesContent":["<template>\r\n  <b-container class=\"container\">\r\n    <RouterView />\r\n  </b-container>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap-vue-3/dist/bootstrap-vue-3.css';\r\nimport 'bootstrap-icons/font/bootstrap-icons.css';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      showModal: false\r\n    };\r\n  },\r\n  mounted() {\r\n    // Attach an event listener to the beforeunload event\r\n    //window.addEventListener(\"beforeunload\", this.handleBeforeUnload);\r\n  },\r\n  beforeDestroy() {\r\n    // Remove the event listener when the component is destroyed\r\n    //window.removeEventListener(\"beforeunload\", this.handleBeforeUnload);\r\n  },\r\n  methods: {\r\n    handleBeforeUnload(event) {\r\n      // Prevent the default behavior to show the browser's built-in dialog\r\n    \r\n    },\r\n    handleLeave() {\r\n      // Perform any necessary actions before leaving\r\n      // For example, saving data or cleaning up resources\r\n      // Close the modal\r\n      this.showModal = false;\r\n      // Allow the page to be unloaded\r\n      window.removeEventListener(\"beforeunload\", this.handleBeforeUnload);\r\n    },\r\n    cancelLeave() {\r\n      // Cancel the leave action and close the modal\r\n      this.showModal = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.ooo {\r\n  transition: width 0.5s ease-in-out;\r\n}\r\n.animated {\r\n  transition: width 0.5s ease-in-out;\r\n}\r\n\r\n#app {\r\n  color: white;\r\n  width: 100%;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\n.container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh; /* Full viewport height */\r\n  width: 100vw;  /* Full viewport width */\r\n  margin: 0;\r\n  background-image: url(\"./assets/bg.jpg\");\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-color: rgba(0, 0, 0, 0.5); /* Transparent overlay */\r\n  background-blend-mode: overlay; /* Combines background color with the image */\r\n  border: 1px solid rgba(255, 255, 255, 0.125);\r\n  max-width: none; /* Override the max-width */\r\n}\r\n</style>\r\n","import { render } from \"./App.vue?vue&type=template&id=6f32fa62\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=6f32fa62&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n\r\n    <b-row class=\"d-xl-none mb-3\">\r\n      <b-row style=\"display:flex;flex-direction:column\">\r\n      <b-col v-b-tooltip.hover title=\"show contacts list\" style=\"cursor:pointer;margin-right:15px;margin-left:20px;margin-top:20px\">\r\n            <i @click=\"showList = true\"  class=\"bi bi-chat-fill\" style=\" font-size: 1.8rem;\"></i>\r\n      </b-col>\r\n    </b-row>\r\n    </b-row>\r\n    <b-row style=\"height: 90vh;width:100%\" >\r\n      <b-col cols=\"3\" style=\"height:100%\" class=\"animated-flex d-none d-xl-block\" > \r\n        <list  :chats=\"chats\" :profileimagelink=\"user.profileImageUrl\" :username=\"user.username\" />\r\n      </b-col>\r\n      <b-col cols=\"12\" xl=\"9\" class=\"ooo\">    \r\n        <welcomePage/>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <b-modal\r\n      id=\"list-modal\"\r\n      size=\"lg\"\r\n      hide-footer\r\n      v-model=\"showList\"\r\n      @hidden=\"resetModal\"\r\n      centered\r\n      class=\"slide-in\"\r\n    >\r\n      <template #modal-title>\r\n        List\r\n      </template>\r\n      <listmodal :chats=\"chats\" :profileimagelink=\"user.profileImageUrl\" :username=\"user.username\" />\r\n    </b-modal>\r\n\r\n    \r\n</template>\r\n\r\n<script>\r\nimport chat from \"../components/chat/chat.vue\";\r\nimport list from \"../components/list/list.vue\";\r\nimport detail from \"../components/detail/detail.vue\";\r\nimport listmodal from \"../components/modals/listmodal.vue\"\r\nimport welcomePage from '@/components/layout/welcomePage.vue';\r\nimport Toastify from 'toastify-js';\r\nimport 'toastify-js/src/toastify.css';\r\nimport { auth, firestore, storage } from '@/firebase/Config';\r\nimport { createUserWithEmailAndPassword ,sendPasswordResetEmail } from 'firebase/auth';\r\nimport { doc, setDoc ,collection,query,orderBy,getDocs,getDoc,where,limit,onSnapshot,getCountFromServer} from 'firebase/firestore';\r\nimport { ref, uploadBytes, getDownloadURL ,deleteObject} from 'firebase/storage';\r\n\r\nexport default {\r\n  components: { chat, list, detail ,listmodal,welcomePage },\r\n  async created(){\r\n\r\n    await this.fetch()\r\n\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      user:{username:'error',profileImageUrl:null,chats:[]},\r\n      chats:[],\r\n      listeners:{},\r\n      purge:[],\r\n      loading:true,\r\n      showList: false,\r\n      showDetail: false\r\n    };\r\n  },\r\n  computed: {\r\n    isMediumAndUp() {\r\n      return window.innerWidth >= 768;\r\n    }\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"resize\", this.handleResize);\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener(\"resize\", this.handleResize);\r\n  },\r\n  async beforeUnmount(){\r\n    Object.values(this.listeners).forEach(func => {\r\n  \r\n      func();\r\n  \r\n    });\r\n\r\n    this.purge.forEach(func => func());\r\n\r\n  },\r\n  methods: {\r\n    handleResize() {\r\n      if (this.isMediumAndUp) {\r\n        this.showList = false;\r\n        this.showDetail = false;\r\n      }\r\n    },\r\n    resetModal() {\r\n      if (this.isMediumAndUp) {\r\n        this.showList = false;\r\n        this.showDetail = false;\r\n      }\r\n    }\r\n    ,async fetch(){\r\n         const userDocRef = doc(firestore, 'users', auth.currentUser.uid);\r\n\r\n        const o = await onSnapshot(userDocRef, (snapshot) => {\r\n\r\n          if (snapshot.exists()) {\r\n          const temp = snapshot.data(); \r\n          this.user.username = temp.username;\r\n          this.user.profileImageUrl = temp.profileImageUrl;\r\n          this.user.chats = temp.chats;\r\n          this.fetchdata(temp)\r\n\r\n        } else {\r\n           Toastify({\r\n            text: \"Something went Wrong\",\r\n            duration: 3000,\r\n            close: true,\r\n            gravity: \"bottom\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            backgroundColor: \"red\",\r\n          }).showToast();\r\n          \r\n        }\r\n\r\n\r\n         })\r\n        \r\n        this.purge.push(o)\r\n    },\r\n    async fetchdata(user){\r\n      if (user.chats && user.chats.length !== 0){\r\n          const chatsQuery = query(collection(firestore, 'chats'), where('__name__', 'in', user.chats));\r\n          const o = await onSnapshot(chatsQuery, (snapshot) => {\r\n            snapshot.docChanges().forEach(async (change) => {\r\n                if(change.type === 'added'){\r\n                  const DOC = change.doc\r\n\r\n                const chat = {\r\n                  id: DOC.id,\r\n                  ...DOC.data()\r\n                }\r\n\r\n                let friend;\r\n                let friendid;\r\n                if (chat.senders[0] === auth.currentUser.uid){\r\n                   friendid = chat.senders[1];\r\n                }\r\n                else{\r\n                   friendid = chat.senders[0];\r\n                }\r\n                const chatDocRef = doc(firestore, 'chats', chat.id);\r\n                const messagesCollectionRef = collection(chatDocRef, 'message');\r\n                const messagesQuery = query(messagesCollectionRef, orderBy('ID', 'desc'));\r\n\r\n                const p = onSnapshot(messagesQuery, async (snapshot) => {\r\n                              const querySnapshot = snapshot;\r\n                              let content;\r\n                              let time;\r\n                              let unreadmessages;\r\n                              if (chat.type === 'discussion'){\r\n                                const unreadMessagesQuery = query(messagesCollectionRef, where('unread', '==', true),where('author','!=',auth.currentUser.uid));\r\n                                const temp = await getCountFromServer(unreadMessagesQuery);\r\n                                unreadmessages = temp.data().count;\r\n\r\n                                        const userDocRef = doc(firestore, 'users',friendid);\r\n\r\n                                        if(!(friendid in this.listeners)){\r\n\r\n                                          const lis =  await onSnapshot(userDocRef,(doc)=>{\r\n                                              this.updatestatus({...doc.data(),id:doc.id});\r\n                                          })\r\n\r\n                                          this.listeners[friendid] = lis;\r\n\r\n                                        }\r\n\r\n                                        const userDoc = await getDoc(userDocRef);\r\n\r\n\r\n\r\n                                            if (userDoc.exists()) {\r\n                                              friend = {...userDoc.data(),id:userDoc.id};          \r\n                                            } else {\r\n                                              Toastify({\r\n                                                text: \"Something went Wrong\",\r\n                                                duration: 3000,\r\n                                                close: true,\r\n                                                gravity: \"bottom\", // `top` or `bottom`\r\n                                                position: \"right\", // `left`, `center` or `right`\r\n                                                backgroundColor: \"red\",\r\n                                              }).showToast();\r\n                                          \r\n                                            }\r\n\r\n                                      if (!querySnapshot.empty) {\r\n                                      // There is at least one message in the subcollection\r\n                                      const lastMessageDoc = querySnapshot.docs[0];\r\n                                      const lastMessageData = lastMessageDoc.data();\r\n                                      if (lastMessageData.type === 'text'){\r\n                                        content = lastMessageData.content;\r\n                                        time = lastMessageData.senttime;\r\n                                      }\r\n                                      else if(lastMessageData.type === 'image'){\r\n                                        content = 'Image Sent';\r\n                                        time = lastMessageData.senttime;\r\n\r\n                                      }\r\n                                      else{\r\n                                        content = 'document Sent';\r\n                                        time = lastMessageData.senttime;\r\n\r\n                                      }\r\n                                      \r\n                                    } else {\r\n                                        content = 'Invitation Accepted';\r\n                                        time = chat.createdat;\r\n                                    }\r\n\r\n\r\n                                      this.updater({...chat,friendusername:friend.username,friendpic:friend.profileImageUrl,content,time,unreadmessages,status:friend.status,friendid:friend.id})\r\n                                        \r\n\r\n                              }\r\n                              else{\r\n                                  const unreadMessagesQuery = query(messagesCollectionRef, where('readby', 'array-contains', auth.currentUser.uid),where('author','!=',auth.currentUser.uid));\r\n                                  const allMessagesQuery = query(messagesCollectionRef,where('author','!=',auth.currentUser.uid));\r\n\r\n                                  const temp = await getCountFromServer(unreadMessagesQuery);\r\n                                  const temp2 = await getCountFromServer(allMessagesQuery);\r\n                                  unreadmessages = temp2.data().count -  temp.data().count;\r\n                                  console.log(unreadmessages)\r\n                                if (!querySnapshot.empty) {\r\n                                const lastMessageDoc = querySnapshot.docs[0];\r\n                                const lastMessageData = lastMessageDoc.data();\r\n                                if (lastMessageData.type === 'text'){\r\n                                  content = lastMessageData.content;\r\n                                  time = lastMessageData.senttime;\r\n                                }\r\n                                else if(lastMessageData.type === 'image'){\r\n                                  content = 'Image Sent';\r\n                                  time = lastMessageData.senttime;\r\n\r\n                                }\r\n                                else{\r\n                                  content = 'document Sent';\r\n                                  time = lastMessageData.senttime;\r\n\r\n                                }\r\n                                \r\n                                } else {\r\n                                  content = 'Invitation Accepted';\r\n                                  time = chat.createdat;\r\n                                }\r\n\r\n                                this.updater({...chat,time,content,unreadmessages})\r\n                              }\r\n                })\r\n                this.purge.push(p)\r\n                }\r\n            });\r\n\r\n\r\n           })\r\n          this.purge.push(o)\r\n          this.loading = false;\r\n\r\n        }\r\n        else{\r\n          this.loading = false;\r\n        }\r\n\r\n\r\n    }\r\n    ,\r\n    updater(data){\r\n      const index = this.chats.findIndex(obj => obj.id === data.id);\r\n\r\n      if(index === -1){\r\n        this.chats.push(data)\r\n      }\r\n      else{\r\n        this.chats[index] = data;\r\n      }\r\n      this.chats = [...this.chats].sort((a, b) => b.time.seconds - a.time.seconds);\r\n\r\n        console.log(this.chats)\r\n\r\n    },\r\n    updatestatus(data){\r\n      const index = this.chats.findIndex(obj =>obj.type==='discussion' && obj.friendid === data.id);\r\n\r\n      if(index !== -1){\r\n        this.chats[index].status = data.status;\r\n\r\n      }\r\n      \r\n\r\n    }\r\n  \r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","<template>\r\n  <div class=\"chat\">\r\n    <div class=\"top\">\r\n      <div class=\"user\">\r\n        <div class=\"profile-container\">\r\n          <img v-if=\"chatdata.type === 'discussion'\" :src=\"chatdata.friend.profileImageUrl\" alt=\"\">\r\n          <img v-if=\"chatdata.type === 'group'\" :src=\"chatdata.groupicon\" alt=\"\">\r\n          <div v-if=\"chatdata.type === 'discussion'\" :class=\"{'online-indicator': friendstatus, 'offline-indicator': !friendstatus}\"></div>\r\n        </div>\r\n        <div class=\"texts\">\r\n          <span v-if=\"chatdata.type === 'discussion'\">{{ chatdata.friend.username }}</span>\r\n          <span v-if=\"chatdata.type === 'group'\">{{ chatdata.groupname }}</span>\r\n          <p v-if=\"chatdata.type === 'discussion' && friendstatus\">Online</p>\r\n          <p v-if=\"chatdata.type === 'discussion' && !friendstatus\">Offline</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"icons\">\r\n        <i @click=\"showDetail = true\" class=\"bi bi-info-circle\" style=\"cursor: pointer; font-size: 1.5rem;\"></i>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"center\">\r\n      <template :key=\"index\" v-for=\"message, index in messages\">\r\n        <div v-if=\"message.type === 'image'\" :class=\"{ 'message': message.author !== currentuser, 'message_own': message.author === currentuser, 'file': false, 'photo': true }\">\r\n          <img v-if=\"message.author !== currentuser\" :src=\"message.profileImageUrl\" alt=\"\">\r\n          <div class=\"text\">\r\n            <img @click=\"downloadFile(message.content)\" :src=\"message.content\" alt=\"\" style=\"cursor: pointer;\">\r\n            <p>{{ message.messagecontent }}</p>\r\n            <span @click=\"downloadFile(message.content)\" style=\"display: flex; align-items: end; gap: 5px;\" class=\"time\">{{ formatTimeAgo(message.senttime) }} <span style=\"cursor: pointer;\">Image <i class=\"bi bi-download\"></i></span></span>\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"message.type === 'text'\" :class=\"{ 'message': message.author !== currentuser, 'message_own': message.author === currentuser, 'file': false, 'photo': false }\">\r\n          <img v-if=\"message.author !== currentuser\" :src=\"message.profileImageUrl\" alt=\"\">\r\n          <div class=\"text\">\r\n            <pre>{{ message.content }}</pre>\r\n            <span class=\"time\">{{ formatTimeAgo(message.senttime) }}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div v-if=\"message.type === 'file'\" :class=\"{ 'message': message.author !== currentuser, 'message_own': message.author === currentuser, 'file': true, 'photo': false }\">\r\n          <img v-if=\"message.author !== currentuser\" :src=\"message.profileImageUrl\" alt=\"\">\r\n          <div @click=\"downloadFile(message.content)\" class=\"text\" style=\"cursor: pointer;\">\r\n            <pre>{{ message.filename }}</pre>\r\n            <span class=\"time\">{{ formatTimeAgo(message.senttime) }}</span>\r\n          </div>\r\n          <span @click=\"downloadFile(message.content)\" style=\"cursor: pointer; display: flex; align-items: end; gap: 5px;\" class=\"time\">File <i class=\"bi bi-download\"></i></span>\r\n        </div>\r\n      </template>\r\n      <div ref=\"targetscroll\"></div>\r\n    </div>\r\n\r\n    <FilePreview :files=\"selectedFiles\" @remove-file=\"removeFile\"></FilePreview>\r\n\r\n    <div class=\"bottom\">\r\n      <div class=\"icons\">\r\n        <label for=\"image-input\" style=\"cursor: pointer;\">\r\n          <i class=\"bi bi-image\" style=\"font-size: 1.6rem;\"></i>\r\n        </label>\r\n\r\n        <label for=\"file-input\" style=\"cursor: pointer;\">\r\n          <i class=\"bi bi-paperclip\" style=\"font-size: 1.6rem;\"></i>\r\n        </label>\r\n\r\n        <input id=\"file-input\" type=\"file\" @change=\"handleFileChange\" multiple hidden>\r\n        <input id=\"image-input\" accept=\"image/*\" type=\"file\" @change=\"handleFileChange\" multiple hidden>\r\n      </div>\r\n\r\n      <textarea ref=\"myInput\" v-model=\"text\" placeholder=\"Type a message ...\"></textarea>\r\n\r\n      <div class=\"emoji\">\r\n        <i @click=\"toggleEmojiPicker\" class=\"bi bi-emoji-smile-fill\" style=\"cursor: pointer; font-size: 1.8rem;\"></i>\r\n      </div>\r\n\r\n      <b-button class=\"efoiwnefoiwefoiwnef\" @click=\"send\">\r\n        <div style=\"display: flex; gap: 20px; font-weight: bolder;\">\r\n          <i class=\"bi bi-send\" style=\"font-size: 1.5rem;\"></i>\r\n        </div>\r\n      </b-button>\r\n    </div>\r\n\r\n    <loadingPage v-if=\"loading\" :progress=\"progr\" />\r\n\r\n    <!-- Sliding Detail Modal -->\r\n    <b-modal id=\"detail-modal\" size=\"lg\" hide-footer v-model=\"showDetail\" @hidden=\"showDetail = false\" centered class=\"slide-in\">\r\n      <template #modal-title>Detail</template>\r\n      <detail :data=\"chatdata\" :mess=\"messages\" />\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { EmojiButton } from '@joeattardi/emoji-button';\r\nimport detail from \"@/components/detail/detail.vue\"\r\nimport FilePreview from '../layout/filesPreview.vue';\r\nimport loadingPage from '@/components/layout/loadingPage.vue';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { formatDistanceToNow } from 'date-fns';\r\nimport { useSound } from '@vueuse/sound';\r\n\r\n\r\n\r\n\r\n\r\nimport { auth, firestore, storage } from '@/firebase/Config';\r\nimport { createUserWithEmailAndPassword ,sendPasswordResetEmail } from 'firebase/auth';\r\nimport { runTransaction,doc, updateDoc,setDoc ,collection,query,orderBy,getDocs,getDoc,where,limit,onSnapshot,getCountFromServer,arrayRemove,arrayUnion,serverTimestamp ,Timestamp,addDoc} from 'firebase/firestore';\r\nimport { ref, uploadBytes, getDownloadURL ,deleteObject} from 'firebase/storage';\r\n\r\n\r\nimport Toastify from 'toastify-js';\r\nimport 'toastify-js/src/toastify.css';\r\n\r\n\r\nexport default {\r\n  components:{detail,FilePreview,loadingPage},\r\n  props:['chatid'],\r\n  data() {\r\n    return {\r\n      first:true,\r\n      purgehere:null,\r\n      friendstatus:false,\r\n      friendlistener:null,\r\n      chatdata:{id:null},\r\n      listener:null,\r\n      messages:[],\r\n      currentuser:auth.currentUser.uid,\r\n      text: \"\",\r\n      picker: new EmojiButton(),\r\n      showDetail: false,\r\n      selectedFiles: [],\r\n      maxFileSize: 10 * 1024 * 1024,\r\n      loading:false,\r\n      progr:0,\r\n      sound:useSound(require('../../assets/sound.mp3'),{ volume: 0.05 })\r\n\r\n\r\n    };\r\n  },\r\n  async beforeUnmount(){\r\n    if(this.listener !== null){\r\n        await this.listener()\r\n      }\r\n    if(this.friendlistener !== null){\r\n        await this.friendlistener()\r\n      }\r\n\r\n  },\r\n  mounted() {\r\n\r\n    \r\n    \r\n    const targetElement = this.$refs.targetscroll;\r\n\r\n      // Check if the element exists\r\n      if (targetElement) {\r\n        // Scroll to the element\r\n        targetElement.scrollIntoView({ behavior: 'smooth' });\r\n      }\r\n\r\n\r\n    this.picker.on('emoji', emoji => {\r\n      this.text += emoji.emoji;\r\n    });\r\n  },\r\n  methods: {\r\n    toggleEmojiPicker(event) {\r\n      this.picker.togglePicker(event.target);\r\n    },\r\n    removeFile(index) {\r\n      this.selectedFiles.splice(index, 1);\r\n    },\r\n    async handleFileChange(event) {\r\n      const files = event.target.files;\r\n      \r\n\r\n      if (this.selectedFiles.length + files.length > 20){\r\n        this.showToast(\"too Many files, Maximum number is 20 file\")\r\n      }\r\n      else\r\n      {for (let i = 0; i < files.length; i++) {\r\n\r\n        const file = files[i];\r\n\r\n        if (file.size > this.maxFileSize){\r\n          this.showToast(\"maximum size allowed is 10 Mb\")\r\n        }\r\n        else {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          this.selectedFiles.push({\r\n            name: file.name,\r\n            type: file.type,\r\n            url: e.target.result,\r\n            file:file\r\n          });\r\n          const targetElement = this.$refs.targetscroll;\r\n\r\n      // Check if the element exists\r\n      if (targetElement) {\r\n        // Scroll to the element\r\n        targetElement.scrollIntoView({ behavior: 'smooth' });\r\n      }\r\n\r\n        };\r\n        \r\n        reader.readAsDataURL(file);\r\n\r\n        }\r\n      }}\r\n    },\r\n    showToast(arg) {\r\n      Toastify({\r\n        text: arg,\r\n        duration: 3000,\r\n        close: true,\r\n        gravity: \"bottom\", // `top` or `bottom`\r\n        position: \"right\", // `left`, `center` or `right`\r\n        backgroundColor: \"red\",\r\n      }).showToast();\r\n    },\r\n    ppppppplla(){\r\n      if(!this.first){\r\n        this.sound.play()\r\n      }\r\n    },\r\n    async send(){\r\n\r\n      if(this.text.trim()==='' && this.selectedFiles.length === 0){\r\n        return\r\n      }\r\n\r\n      const ID = await this.getnextid()\r\n\r\n\r\n      const ChatDocRef = doc(firestore, \"chats\", this.chatdata.id);\r\n      const messagesCollectionRef = collection(ChatDocRef, 'message');\r\n\r\n      if(this.selectedFiles.length === 0){\r\n\r\n            await addDoc(messagesCollectionRef,{\r\n            author:auth.currentUser.uid,\r\n            type:'text',\r\n            senttime:Timestamp.now(),\r\n            filename:'',\r\n            content:this.text,\r\n            unread:true,\r\n            readby:[],\r\n            ID:ID\r\n            });\r\n\r\n          this.text = '';\r\n\r\n          this.scrolllll()\r\n          \r\n          \r\n      }else{ \r\n\r\n\r\n\r\n\r\n    this.loading = true\r\n    const promises = this.selectedFiles.map(async (file) => {\r\n    const type = file.type.split('/')[0];\r\n    const uniqueName = `${Date.now()}_${uuidv4()}_${file.name}`;\r\n    const storageRef = ref(storage, `chats/${this.chatdata.id}/${uniqueName}`);\r\n    await uploadBytes(storageRef, file.file);\r\n    const profileImageUrl = await getDownloadURL(storageRef);\r\n    const messageType = type === 'image' ? 'image' : 'file';\r\n\r\n    await addDoc(messagesCollectionRef, {\r\n      author: auth.currentUser.uid,\r\n      type: messageType,\r\n      senttime:Timestamp.now(),\r\n      filename: file.name,\r\n      content: profileImageUrl,\r\n      unread: true,\r\n      messagecontent: this.text,\r\n      readby:[],\r\n      ID:ID\r\n\r\n\r\n    });\r\n    this.progr += parseInt(100/this.selectedFiles.length)\r\n  });\r\n\r\n        // Wait for all promises to resolve\r\n        await Promise.all(promises);\r\n          this.text = '';\r\n        this.loading = false\r\n        this.progr = 100;\r\n        this.selectedFiles = [];\r\n\r\n\r\n          if (this.$refs.myInput) {\r\n              this.$refs.myInput.focus();\r\n          } \r\n       \r\n          this.scrolllll()\r\n          \r\n          \r\n\r\n\r\n\r\n      }\r\n\r\n\r\n      \r\n      \r\n\r\n\r\n\r\n\r\n    },\r\n    async getNextId() {\r\n    const counterDocRef = doc(firestore, 'chats', this.chatdata.id);\r\n\r\n    try {\r\n      const newId = await runTransaction(firestore, async (transaction) => {\r\n      const counterDoc = await transaction.get(counterDocRef);\r\n\r\n      if (!counterDoc.exists()) {\r\n        return null\r\n      }\r\n\r\n      const currentId = counterDoc.data().currentId;\r\n      const newId = currentId + 1;\r\n      this.text = newId\r\n\r\n      transaction.update(counterDocRef, { currentId: newId });\r\n\r\n      return newId;\r\n    });\r\n\r\n    return newId;\r\n  } catch (e) {\r\n    return null\r\n  }\r\n    },\r\n    async getnextid(){\r\n      const counterDocRef = doc(firestore, 'chats', this.chatdata.id);\r\n       const q =  await getDoc(counterDocRef);\r\n       updateDoc(counterDocRef,{\r\n        currentId:q.data().currentId+1\r\n       })\r\n\r\n       return q.data().currentId\r\n      \r\n    },\r\n    scrolllll(){\r\n      const targetElement = this.$refs.targetscroll;\r\n\r\n      // Check if the element exists\r\n      if (targetElement) {\r\n        // Scroll to the element\r\n        targetElement.scrollIntoView({ behavior: 'smooth' });\r\n      }\r\n\r\n    },\r\n    downloadFile(url) {\r\n       window.open(url, '_blank');\r\n      \r\n    },\r\n    formatTimeAgo(timestamp) {\r\n        const sentTime = new Date(timestamp.seconds * 1000); // Convert seconds to milliseconds\r\n        return formatDistanceToNow(sentTime, { addSuffix: true });// Using dayjs library to format \"time ago\"\r\n    },\r\n    async fetchmessages(){\r\n      if(this.listener !== null){\r\n        await this.listener()\r\n      }\r\n      \r\n\r\n      this.messages = []\r\n        \r\n        if (this.chatdata.id !== null){\r\n      \r\n                    \r\n                const ChatDocRef = doc(firestore, \"chats\", this.chatdata.id);\r\n                const messagesCollectionRef = collection(ChatDocRef, 'message');\r\n                const messagesQuery = query(messagesCollectionRef, orderBy('ID', 'asc'));\r\n\r\n\r\n                try{\r\n                  \r\n                this.listener = await onSnapshot(messagesQuery, async (snapshot) => {\r\n                        \r\n                        const newMessages = [];\r\n                       \r\n\r\n\r\n\r\n                          // Collect all asynchronous tasks\r\n                          const asyncTasks = snapshot.docChanges().map(async change => {\r\n\r\n                              if (change.type === \"added\") {\r\n                                 \r\n\r\n                                  const message = change.doc.data();\r\n                                  message.id = change.doc.id;\r\n                                if(message.senttime !== null){\r\n                                        if (message.author !== auth.currentUser.uid) {\r\n                                          this.ppppppplla()\r\n                                            const userDocRef = doc(firestore, 'users', message.author);\r\n                                            const userDoc = await getDoc(userDocRef);\r\n                                            const temp = {...userDoc.data()};\r\n                                            // if you have read this comment that mean you have spent a lot of time reading this code, go rest some time, by bourich and oussama **\r\n\r\n                                            message.profileImageUrl = temp.profileImageUrl;\r\n                                        }\r\n\r\n                                        if(this.chatdata.type == 'group'){\r\n\r\n                                          if(message.author !== auth.currentUser.uid){\r\n                                           \r\n                                            if(message.readby && !message.readby.includes(auth.currentUser.uid)){\r\n                                                  \r\n                                          const ooooo = doc(firestore, \"chats\", this.chatdata.id);\r\n                                          const pmoinoanc = collection(ooooo, 'message');\r\n                                          const pppppp = doc(pmoinoanc,message.id);\r\n                                          \r\n                                          await updateDoc(pppppp, {\r\n                                            readby: arrayUnion(auth.currentUser.uid)\r\n                                          });\r\n\r\n\r\n                                            }\r\n                                        \r\n\r\n                                          }\r\n\r\n\r\n\r\n\r\n                                        }\r\n                                        else{\r\n\r\n                                          if(message.author !== auth.currentUser.uid){\r\n\r\n                                          const oooooo = doc(firestore, \"chats\", this.chatdata.id);\r\n                                          const ooounin = collection(oooooo, 'message');\r\n                                          const ienoeunfwf = doc(ooounin,message.id);\r\n                                        \r\n\r\n                                          \r\n                                          await updateDoc(ienoeunfwf, {\r\n                                            unread:false\r\n                                          });\r\n\r\n                                          }\r\n\r\n\r\n\r\n                                        }\r\n                                        newMessages.push(message);\r\n                                  }\r\n                              }\r\n\r\n                          });\r\n\r\n                  // Wait for all asynchronous tasks to complete\r\n                  await Promise.all(asyncTasks);\r\n\r\n                  // Append new messages to the existing messages array\r\n                  this.messages = [...this.messages, ...newMessages];\r\n\r\n                  // Sort the messages based on senttime\r\n                  this.messages = [...this.messages].sort((a, b) => a.ID - b.ID);\r\n                  this.first = false\r\n\r\n                  \r\n                  if(this.purgehere){\r\n                                      this.purgehere()\r\n                  }\r\n\r\n\r\n                  // Scroll to the latest message\r\n                  this.$nextTick(() => {\r\n                      this.scrolllll();\r\n\r\n                      if (this.$refs.myInput) {\r\n                          this.$refs.myInput.focus();\r\n                      } \r\n       \r\n                  });\r\n\r\n                      \r\n\r\n                    });\r\n                \r\n\r\n                }catch(error){\r\n                    Toastify({\r\n                        text: \"Something went Wrong 1\",\r\n                        duration: 3000,\r\n                        close: true,\r\n                        gravity: \"bottom\", // `top` or `bottom`\r\n                        position: \"right\", // `left`, `center` or `right`\r\n                        backgroundColor: \"red\",\r\n                      }).showToast();\r\n                  this.$router.push('/');\r\n\r\n\r\n                }\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n    },\r\n    async fetchchat(){\r\n      this.loading = true\r\n      this.first = true\r\n\r\n\r\n      if(this.chatid){\r\n\r\n        try{\r\n\r\n          const Check = doc(firestore, \"users\", auth.currentUser.uid);\r\n          const tt = await getDoc(Check)\r\n\r\n          if(!(tt.data().chats.includes(this.chatid))){\r\n            this.$router.push('/errorpage')\r\n            return\r\n          }\r\n\r\n          \r\n\r\n\r\n\r\n\r\n          const ChatDocRef = doc(firestore, \"chats\", this.chatid);\r\n          this.purgehere = await onSnapshot(ChatDocRef, async (docSnapshot) => {\r\n\r\n          if (docSnapshot.exists()) {\r\n            const chatData = docSnapshot.data();\r\n            chatData.id = docSnapshot.id;\r\n\r\n\r\n          if (chatData.type === 'discussion'){\r\n                  \r\n              let friend;\r\n              let friendid;\r\n              if (chatData.senders[0] === auth.currentUser.uid){\r\n                  friendid = chatData.senders[1];\r\n              }\r\n              else{\r\n                  friendid = chatData.senders[0];\r\n              }\r\n\r\n\r\n              const userDocRef = doc(firestore, 'users',friendid);\r\n              const userDoc = await getDoc(userDocRef);\r\n\r\n              if (userDoc.exists()) {\r\n                friend = {...userDoc.data(),id:userDoc.id};         \r\n              } else {\r\n                Toastify({\r\n                  text: \"Something went Wrong 2 \",\r\n                  duration: 3000,\r\n                  close: true,\r\n                  gravity: \"bottom\", // `top` or `bottom`\r\n                  position: \"right\", // `left`, `center` or `right`\r\n                  backgroundColor: \"red\",\r\n                }).showToast();\r\n            \r\n              }\r\n              \r\n            chatData.friend = friend;\r\n            this.chatdata = chatData;\r\n            if(this.friendlistener !== null){\r\n                await this.friendlistener()\r\n            }\r\n            this.assignuserlistener()\r\n            \r\n            this.listener = this.fetchmessages()\r\n            this.progr = 60\r\n\r\n            this.loading = false\r\n\r\n\r\n\r\n                            \r\n\r\n\r\n\r\n          }else{\r\n            this.chatdata = chatData;\r\n            this.listener = this.fetchmessages()\r\n            this.progr = 60\r\n\r\n            this.loading = false\r\n          }\r\n\r\n\r\n\r\n\r\n\r\n\r\n          }else{\r\n        \r\n          this.$router.push('/')\r\n          \r\n          \r\n          }\r\n        \r\n          })\r\n            \r\n            \r\n\r\n\r\n\r\n\r\n        }\r\n        catch(error){\r\n          Toastify({\r\n                  text: \"Something went Wrong 4\",\r\n                  duration: 3000,\r\n                  close: true,\r\n                  gravity: \"bottom\", // `top` or `bottom`\r\n                  position: \"right\", // `left`, `center` or `right`\r\n                  backgroundColor: \"red\",\r\n                }).showToast();\r\n            this.$router.push('/');\r\n        }\r\n\r\n      }\r\n\r\n\r\n            \r\n\r\n\r\n    },\r\n    async assignuserlistener(){\r\n      const friendDocRef = doc(firestore, \"users\", this.chatdata.friend.id);\r\n      this.friendlistener = await onSnapshot(friendDocRef,(doc)=>{\r\n        const temp = doc.data();\r\n        this.friendstatus = temp.status\r\n      })\r\n\r\n    }\r\n  },\r\n  watch: {\r\n    'chatid': {\r\n      handler: 'fetchchat',\r\n      immediate: true\r\n    },\r\n    \r\n  }\r\n    \r\n  \r\n};\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.efoiwnefoiwefoiwnef{\r\n  background-color: red;\r\n  background-color:transparent;border-color:transparent\r\n\r\n}\r\n.efoiwnefoiwefoiwnef:hover{\r\n  background-color: rgb(24, 212, 125);\r\n\r\n}\r\n.profile-container {\r\n    position: relative;\r\n    display: inline-block;\r\n}\r\n.online-indicator {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 80%;\r\n    transform: translateX(-50%);\r\n    width: 15px;\r\n    height: 15px;\r\n    background-color: rgb(21, 223, 21);\r\n    border-radius: 50%; /* To make itacircle*/\r\n}\r\n.offline-indicator{\r\n  position: absolute;\r\n    bottom: 0;\r\n    left: 80%;\r\n    transform: translateX(-50%);\r\n    width: 15px;\r\n    height: 15px;\r\n    background-color: rgb(103, 117, 103);\r\n    border-radius: 50%; /* To make itacircle*/\r\n\r\n}\r\n.oiwnefoiwnef{\r\n  width: 10px;\r\n  height: 10px;\r\n}\r\n\r\n.ppppojpppo{\r\n  width: 30px;\r\n  height: 30px;\r\n}\r\n\r\n.modal-content {\r\n  background-color: red !important; /* Example: Light grey */\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n.chat {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  border-left: 1px solid #dddddd35;\r\n  border-right: 1px solid #dddddd35;\r\n  overflow: scroll;\r\n}\r\n.top {\r\n  width: 100%;\r\n\r\n  padding: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-bottom: 1px solid #dddddd35;\r\n}\r\n.user {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n.user img {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n.texts {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 5px;\r\n}\r\n.texts span {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n}\r\np {\r\n  font-size: 14px;\r\n  font-weight: 300;\r\n  color: white;\r\n}\r\n.icons {\r\n  display: flex;\r\n  gap: 20px;\r\n}\r\n.icons img {\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n}\r\n.center {\r\n  flex: 1 ;\r\n  padding: 20px;\r\n  overflow-y: scroll;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 20px;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n  width: 5px; /* Width of the scrollbar */\r\n  \r\n\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: transparent; /* Color of the track */\r\n   \r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background-color: transparent; /* Color of the thumb */\r\n  border-radius: 5px; /* Roundness of the thumb */\r\ntransition: background-color 0.1s ease; /* Smooth transition */\r\n\r\n   \r\n}\r\n\r\n.center:hover::-webkit-scrollbar-thumb {\r\n  background-color: #888; /* Adjust as needed */\r\n\r\n}\r\n\r\n.send-button{\r\n  background-color: #3365e4;\r\n  border-color: darkblue;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n.message {\r\n  max-width: 70%;\r\n  display: flex;\r\n  gap: 20px;\r\n    margin-bottom:17px ;\r\n\r\n}\r\n.message img {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  margin-top: 20px;\r\n}\r\n.message_own {\r\n  align-self: flex-end;\r\n  margin-bottom:17px ;\r\n}\r\n.message_own .text pre{\r\n  background-color: #5183fe;\r\n  color: white;\r\n  padding: 5px;\r\n  border-radius: 5px;\r\n  color: white;\r\n   margin-bottom:0 ;\r\n}\r\n .text pre{\r\n  background-color: rgba(17, 25, 40, 0.3);\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  color: white;\r\n  margin-bottom:0 ;\r\n}\r\n\r\n.text img{\r\n  width: 100%;\r\n  height: 300px;\r\n  border-radius: 10px;\r\n  object-fit: cover;\r\n\r\n}\r\n\r\n.time{\r\n  font-size: 12px;\r\n  float: inline-end;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n.bottom {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 20px;\r\n  border-top: 1px solid #dddddd35;\r\n}\r\n.bottom .icons img {\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n}\r\n.bottom textarea {\r\n  flex: 1;\r\n  background-color: rgba(17, 25, 40, 0.5);\r\n  border: none;\r\n  outline: none;\r\n  color: white;\r\n  border-radius: 10px;\r\n  font-size: 18px;\r\n  padding: 10px;\r\n  margin: 0 10px;\r\n  resize: none;\r\n  height: 60px;\r\n}\r\n.bottom .sendButton {\r\n  background-color: #5183fe;\r\n  color: white;\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","<template>\r\n    <div v-if=\"chatdata && chatdata.id\" class=\"container-fluid detail\">\r\n      <div class=\"user text-center mb-3\">\r\n        <img :src=\"chatdata.type === 'discussion' ? chatdata.friend.profileImageUrl : chatdata.groupicon\" alt=\"\" class=\"user-img mb-2\" />\r\n        <h2>{{ chatdata.type === 'discussion' ? chatdata.friend.username : chatdata.groupname }}</h2>\r\n        <p v-if=\"chatdata.type === 'discussion'\">{{ chatdata.friend.description }}</p>\r\n      </div>\r\n  \r\n      <div class=\"info\">\r\n  \r\n\r\n  \r\n        <!-- Add Member -->\r\n        <b-card no-body v-if=\"chatdata.admin === uuusers\" class=\"mb-3\">\r\n          <b-card-header>\r\n            <div class=\"d-flex justify-content-between align-items-center\">\r\n              <h5 class=\"mb-0\">Add Member</h5>\r\n              <b-button v-b-toggle.detail-add-member variant=\"link\" class=\"p-0\">\r\n                <i class=\"bi\" :class=\"expanded ? 'bi-chevron-bar-up' : 'bi-chevron-bar-down'\"></i>\r\n              </b-button>\r\n            </div>\r\n          </b-card-header>\r\n          <b-collapse id=\"detail-add-member\" is-nav>\r\n            <b-form-tags\r\n              ref=\"ooo\"\r\n              input-id=\"tags-remove-on-delete\"\r\n              :input-attrs=\"{ 'aria-describedby': 'tags-remove-on-delete-help' }\"\r\n              v-model=\"groupMember\"\r\n              :tag-validator=\"Validate\"\r\n              separator=\" \"\r\n              placeholder=\"Enter new username separated by space\"\r\n              remove-on-delete\r\n              no-add-on-enter\r\n              class=\"search-input mb-2\"\r\n              @keyup=\"handleTagState\"\r\n            ></b-form-tags>\r\n            <small id=\"tags-remove-on-delete-help\" class=\"form-text text-muted\">\r\n              Press <kbd>Backspace</kbd> to remove the last username entered\r\n            </small>\r\n            <div class=\"d-flex justify-content-center mt-3\">\r\n              <b-button @click=\"invite\" variant=\"success\" class=\"w-100\">Invite +</b-button>\r\n            </div>\r\n          </b-collapse>\r\n        </b-card>\r\n  \r\n        <!-- Shared Photos -->\r\n        <b-card no-body class=\"mb-3\">\r\n          <b-card-header>\r\n            <div class=\"d-flex justify-content-between align-items-center\">\r\n              <h5 class=\"mb-0\">Shared Photos</h5>\r\n              <b-button v-b-toggle.detail-photos variant=\"link\" class=\"p-0\">\r\n                <i class=\"bi\" :class=\"expanded ? 'bi-chevron-bar-up' : 'bi-chevron-bar-down'\"></i>\r\n              </b-button>\r\n            </div>\r\n          </b-card-header>\r\n          <b-collapse id=\"detail-photos\" is-nav>\r\n            <div class=\"photos\">\r\n              <div v-for=\"(image, index) in filteredimages\" :key=\"index\" class=\"d-flex align-items-center mb-2\">\r\n                <img :src=\"image.content\" alt=\"\" class=\"shared-photo mr-3\">\r\n                <span>{{ image.filename }}</span>\r\n                <b-button @click=\"downloadFile(image.content)\" variant=\"link\" class=\"ml-auto\">\r\n                  <i class=\"bi bi-download\"></i>\r\n                </b-button>\r\n              </div>\r\n            </div>\r\n          </b-collapse>\r\n        </b-card>\r\n  \r\n        <!-- Remove User or Quit Group -->\r\n        <b-button v-if=\"chatdata.type !== 'group'\" @click=\"removefriend\" variant=\"danger\" class=\"w-100 mt-3\">\r\n          Remove User\r\n        </b-button>\r\n        <b-button v-if=\"chatdata.type === 'group'\" @click=\"quitGroup\" variant=\"danger\" class=\"w-100 mt-3\">\r\n          Quit Group\r\n        </b-button>\r\n      </div>\r\n    </div>\r\n  \r\n    <loadingPage v-if=\"loading\" :progress=\"progr\" />\r\n  </template>\r\n  \r\n\r\n<script>\r\n\r\nimport { auth, firestore, storage } from '@/firebase/Config';\r\nimport { createUserWithEmailAndPassword ,sendPasswordResetEmail } from 'firebase/auth';\r\nimport { doc, updateDoc,setDoc ,collection,query,orderBy,getDocs,getDoc,where,limit,onSnapshot,getCountFromServer,arrayRemove,arrayUnion, Timestamp,addDoc,deleteDoc} from 'firebase/firestore';\r\nimport { ref, uploadBytes,listAll ,getDownloadURL ,deleteObject} from 'firebase/storage';\r\nimport Toastify from 'toastify-js';\r\nimport 'toastify-js/src/toastify.css';\r\nimport loadingPage from '@/components/layout/loadingPage.vue';\r\n\r\n\r\n\r\nexport default {\r\n    props:['data','mess'],\r\n    components:{loadingPage},\r\n    data(){\r\n        return ({\r\n            all:[],\r\n            purge:[],\r\n\r\n            user:{},\r\n            filteredfriends:[],\r\n            chatdata:{id:null},\r\n            messages:[],\r\n            loading:false,\r\n            groupMember:[],\r\n            progr:0,\r\n            members:[],\r\n            uuusers:auth.currentUser.uid\r\n        })\r\n    },\r\n    methods:{\r\n        async fetch(){\r\n            if(this.data){\r\n                    if(this.data.id !== null){\r\n                this.chatdata = {...this.data}\r\n                this.messages = this.mess\r\n                this.fetchusers()\r\n                const usersDocRef =  collection(firestore, 'users');\r\n                const querySnapshot = await getDocs(usersDocRef);\r\n                this.all = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n                const userDocRef = doc(firestore, 'users', auth.currentUser.uid);\r\n\r\n                \r\n\r\n\r\n          const ChatDocRef = doc(firestore, \"chats\", this.data.id);\r\n\r\n          const purgehere = await onSnapshot(ChatDocRef, async (docSnapshot) => {\r\n\r\n          if (docSnapshot.exists()) {\r\n            const chatData = docSnapshot.data();\r\n            chatData.id = docSnapshot.id;\r\n\r\n\r\n          if (chatData.type === 'discussion'){\r\n                  \r\n              let friend;\r\n              let friendid;\r\n              if (chatData.senders[0] === auth.currentUser.uid){\r\n                  friendid = chatData.senders[1];\r\n              }\r\n              else{\r\n                  friendid = chatData.senders[0];\r\n              }\r\n\r\n\r\n              const userDocRef = doc(firestore, 'users',friendid);\r\n              const userDoc = await getDoc(userDocRef);\r\n\r\n              if (userDoc.exists()) {\r\n                friend = {...userDoc.data(),id:userDoc.id};         \r\n              } else {\r\n                Toastify({\r\n                  text: \"Something went Wrong 2 \",\r\n                  duration: 3000,\r\n                  close: true,\r\n                  gravity: \"bottom\", // `top` or `bottom`\r\n                  position: \"right\", // `left`, `center` or `right`\r\n                  backgroundColor: \"red\",\r\n                }).showToast();\r\n            \r\n              }\r\n              \r\n            chatData.friend = friend;\r\n            this.chatdata = chatData;\r\n\r\n\r\n\r\n\r\n                            \r\n\r\n\r\n\r\n          }else{\r\n            this.chatdata = chatData;\r\n            this.fetchusers()\r\n\r\n          }\r\n\r\n\r\n\r\n\r\n\r\n          }else{\r\n        \r\n          this.$router.push('/')\r\n          \r\n          \r\n          }\r\n        \r\n          })\r\n            \r\n            \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                const o = await onSnapshot(userDocRef, (snapshot) => {\r\n\r\n          if (snapshot.exists()) {\r\n          const temp = snapshot.data(); \r\n          this.user = {...temp,id:auth.currentUser.uid}\r\n           this.filteredfriends = this.all.filter(usert =>this.user.friends.includes(usert.id) && !this.chatdata.senders.includes(usert.id) )\r\n\r\n        } else {\r\n           Toastify({\r\n            text: \"Something went Wrong\",\r\n            duration: 3000,\r\n            close: true,\r\n            gravity: \"bottom\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            backgroundColor: \"red\",\r\n          }).showToast();\r\n          \r\n        }\r\n\r\n\r\n         })\r\n        \r\n                this.purge.push(o)\r\n                this.purge.push(purgehere)\r\n\r\n                }\r\n            }\r\n\r\n        },\r\n        async beforeUnmount(){\r\n    \r\n\r\n    this.purge.forEach(func => func());\r\n\r\n  },\r\n        async removefriend(){\r\n            try{\r\n                    this.loading = true\r\n                    this.progr = 5\r\n                    const ChatDocRef = doc(firestore, \"chats\", this.chatdata.id);\r\n                    const messagesCollectionRef = collection(ChatDocRef, 'message');\r\n\r\n                    const UserDocRef = doc(firestore, \"users\", auth.currentUser.uid);\r\n                    const friendDocRef = doc(firestore, \"users\", this.chatdata.friend.id);\r\n\r\n                  \r\n\r\n\r\n\r\n                    await updateDoc(friendDocRef, {\r\n                        friends: arrayRemove(auth.currentUser.uid)\r\n                    });\r\n\r\n                     await updateDoc(UserDocRef, {\r\n                        friends: arrayRemove(this.chatdata.friend.id)\r\n                    });\r\n\r\n                    await updateDoc(friendDocRef, {\r\n                        chats: arrayRemove(this.chatdata.id)\r\n                    });\r\n\r\n                     await updateDoc(UserDocRef, {\r\n                        chats: arrayRemove(this.chatdata.id)\r\n                    });\r\n\r\n\r\n                    this.progr = 50;\r\n\r\n\r\n\r\n                      if([...this.filteredfiles,...this.filteredimages].length !== 0){\r\n\r\n\r\n                            const dirRef = ref(storage, `chats/${this.chatdata.id}/`);\r\n\r\n                            const listResults = await listAll(dirRef);\r\n\r\n                            // Delete all files in the directory\r\n                            const deletePromises = listResults.items.map((itemRef) => deleteObject(itemRef));\r\n                            await Promise.all(deletePromises);\r\n                    \r\n                    \r\n                    }\r\n\r\n\r\n                    \r\n                    this.progr = 80;\r\n     \r\n\r\n\r\n\r\n\r\n\r\n                    const subcollectionSnapshot = await getDocs(messagesCollectionRef);\r\n\r\n                    const deletePromises = subcollectionSnapshot.docs.map((docSnapshot) => deleteDoc(docSnapshot.ref));\r\n                    await Promise.all(deletePromises);\r\n\r\n\r\n                    await deleteDoc(ChatDocRef);\r\n\r\n                    this.progr = 90;\r\n\r\n\r\n                    this.$router.push('/')\r\n                    Toastify({\r\n                    text: \"Friend Removed from your list\",\r\n                    duration: 3000,\r\n                    close: true,\r\n                    gravity: \"bottom\", // `top` or `bottom`\r\n                    position: \"right\", // `left`, `center` or `right`\r\n                    backgroundColor: \"orange\",\r\n                    }).showToast();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            }catch(error){\r\n                Toastify({\r\n              text: \"Something went Wrong\",\r\n              duration: 3000,\r\n              close: true,\r\n              gravity: \"bottom\", // `top` or `bottom`\r\n              position: \"right\", // `left`, `center` or `right`\r\n              backgroundColor: \"red\",\r\n            }).showToast();\r\n\r\n            }\r\n\r\n\r\n        \r\n        }\r\n        ,downloadFile(url) {\r\n       window.open(url, '_blank');\r\n      \r\n    },\r\n    async quitGroup(){\r\n          try{\r\n\r\n                    if(this.chatdata.senders.length ===1){\r\n                        this.loading = true\r\n                        this.progr = 20\r\n\r\n\r\n\r\n                        const UserDocRef = doc(firestore, \"users\", auth.currentUser.uid);\r\n\r\n                        await updateDoc(UserDocRef, {\r\n                        chats: arrayRemove(this.chatdata.id)\r\n                        });\r\n\r\n                        this.progr = 50;\r\n                        \r\n                      if([...this.filteredfiles,...this.filteredimages].length !== 0){\r\n\r\n\r\n                            const dirRef = ref(storage, `chats/${this.chatdata.id}/`);\r\n\r\n                            const listResults = await listAll(dirRef);\r\n\r\n                            // Delete all files in the directory\r\n                            const deletePromises = listResults.items.map((itemRef) => deleteObject(itemRef));\r\n                            await Promise.all(deletePromises);\r\n                    \r\n                    \r\n                    }\r\n\r\n                             const ddirRef = ref(storage, `group/${this.chatdata.id}/`);\r\n\r\n                            const llistResults = await listAll(ddirRef);\r\n\r\n                            // Delete all files in the directory\r\n                            const ddeletePromises = llistResults.items.map((itemRef) => deleteObject(itemRef));\r\n                            await Promise.all(ddeletePromises);\r\n                    \r\n                    \r\n                    \r\n                    \r\n\r\n\r\n\r\n                    \r\n                    this.progr = 80;\r\n     \r\n\r\n                    const ChatDocRef = doc(firestore, \"chats\", this.chatdata.id);\r\n                    const messagesCollectionRef = collection(ChatDocRef, 'message');\r\n\r\n\r\n\r\n                    const subcollectionSnapshot = await getDocs(messagesCollectionRef);\r\n\r\n                    const deletePromises = subcollectionSnapshot.docs.map((docSnapshot) => deleteDoc(docSnapshot.ref));\r\n                    await Promise.all(deletePromises);\r\n\r\n\r\n                    await deleteDoc(ChatDocRef);\r\n\r\n                    this.progr = 90;\r\n\r\n\r\n                    this.$router.push('/')\r\n                    Toastify({\r\n                    text: \"Friend Removed from your list\",\r\n                    duration: 3000,\r\n                    close: true,\r\n                    gravity: \"bottom\", // `top` or `bottom`\r\n                    position: \"right\", // `left`, `center` or `right`\r\n                    backgroundColor: \"orange\",\r\n                    }).showToast();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    }\r\n                    else{\r\n                    this.loading = true\r\n                    this.progr = 5\r\n                    const cChatDocRef = doc(firestore, \"chats\", this.chatdata.id);\r\n                    const mmessagesCollectionRef = collection(cChatDocRef, 'message');\r\n                    const UserDocRef = doc(firestore, \"users\", auth.currentUser.uid);\r\n                    const ChatDocRef = doc(firestore, \"chats\", this.chatdata.id);\r\n\r\n\r\n                    const temp = await getDoc(UserDocRef);\r\n                    const i = temp.data().username\r\n\r\n\r\n\r\n                    const counterDocRef = doc(firestore, 'chats', this.chatdata.id);\r\n                    const q =  await getDoc(counterDocRef);\r\n                    updateDoc(counterDocRef,{\r\n                        currentId:q.data().currentId+1\r\n                    })\r\n\r\n                    \r\n\r\n\r\n\r\n\r\n                    await addDoc(mmessagesCollectionRef,{\r\n                    author:auth.currentUser.uid,\r\n                    type:'text',\r\n                    senttime:Timestamp.now(),\r\n                    filename:'',\r\n                    content:`${i} has left the Group`,\r\n                    unread:true,\r\n                    readby:[],\r\n                    ID: q.data().currentId\r\n                    });\r\n\r\n\r\n\r\n                    \r\n                    await updateDoc(ChatDocRef, {\r\n                        senders: arrayRemove(auth.currentUser.uid)\r\n                    });\r\n\r\n                    await updateDoc(UserDocRef, {\r\n                        chats: arrayRemove(this.chatdata.id)\r\n                    });\r\n                     this.progr = 90;\r\n\r\n\r\n                    this.$router.push('/')\r\n                    Toastify({\r\n                    text: \"Friend Removed from your list\",\r\n                    duration: 3000,\r\n                    close: true,\r\n                    gravity: \"bottom\", // `top` or `bottom`\r\n                    position: \"right\", // `left`, `center` or `right`\r\n                    backgroundColor: \"orange\",\r\n                    }).showToast();\r\n\r\n\r\n\r\n                    }\r\n            }catch(error){\r\n                Toastify({\r\n              text: \"Something went Wrong\",\r\n              duration: 3000,\r\n              close: true,\r\n              gravity: \"bottom\", // `top` or `bottom`\r\n              position: \"right\", // `left`, `center` or `right`\r\n              backgroundColor: \"red\",\r\n            }).showToast();\r\n\r\n            }\r\n\r\n\r\n    },\r\n    async fetchusers(){\r\n        const mem = [];\r\n        const asyncTasks = this.chatdata.senders.map(async (memberid)=>{\r\n\r\n            const userDocRef = doc(firestore, 'users', memberid);\r\n            const temp = await getDoc(userDocRef);\r\n            mem.push({...temp.data(),id:temp.id})\r\n        })\r\n        await Promise.all(asyncTasks);\r\n        this.members = mem\r\n    },\r\n    Validate(tag){\r\n      const tem = this.all.filter(user=>user.username === tag);\r\n      return (tem.length===1 && this.user.friends.includes(tem[0].id) && ![...this.groupMember].includes(tem[0].username) && (!this.chatdata.senders.includes(tem[0].id)))\r\n\r\n    }, \r\n    handleTagState(event) {\r\n      const temp = event.target.value\r\n      this.searchtag = temp;\r\n      if (!temp) {\r\n        console.log([...this.groupMember])\r\n        this.filteredfriends = this.all.filter((usert) =>{\r\n   \r\n          return (this.user.friends.includes(usert.id) && ![...this.groupMember].includes(usert.username)&& !this.chatdata.senders.includes(usert.id))\r\n          })\r\n      }\r\n      else{\r\n         this.filteredfriends = this.all.filter((user) => {\r\n          const username = user.username.toLowerCase();\r\n          return username.includes(temp.toLowerCase()) && this.user.friends.includes(user.id) &&  ![...this.groupMember].includes(user.username) && !this.chatdata.senders.includes(user.id) ;  \r\n      });\r\n\r\n      }\r\n\r\n    \r\n      \r\n    },\r\n    async invite(){\r\n        const members = this.all.filter(user=>[...this.groupMember].includes(user.username));\r\n\r\n        const work = members.map(async (member)=>{\r\n          \r\n            const memberDocRef = doc(firestore, \"users\", member.id);\r\n            const ChatDocRef = doc(firestore, \"chats\",this.chatdata.id);\r\n\r\n            await updateDoc(memberDocRef, {\r\n                invitations: arrayUnion({id:this.chatdata.id,type:'group'})\r\n              });\r\n\r\n            await updateDoc(ChatDocRef, {\r\n              sentinvitations: arrayUnion(member.id)\r\n            });\r\n\r\n\r\n\r\n        })\r\n        \r\n\r\n        await Promise.all(work);\r\n\r\n\r\n        Toastify({\r\n            text: \"invitations Sent\",\r\n            duration: 3000,\r\n            close: true,\r\n            gravity: \"bottom\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            backgroundColor: \"green\",\r\n          }).showToast();\r\n        \r\n        window.location.reload();\r\n\r\n    },\r\n    async removeuser(idd){\r\n        try{\r\n\r\n                    \r\n                    this.loading = true\r\n                    this.progr = 5\r\n                    const cChatDocRef = doc(firestore, \"chats\", this.chatdata.id);\r\n                    const mmessagesCollectionRef = collection(cChatDocRef, 'message');\r\n                    const UserDocRef = doc(firestore, \"users\", idd);\r\n                    const ChatDocRef = doc(firestore, \"chats\", this.chatdata.id);\r\n\r\n\r\n                    const temp = await getDoc(UserDocRef);\r\n                    const i = temp.data().username\r\n\r\n\r\n\r\n                    const counterDocRef = doc(firestore, 'chats', this.chatdata.id);\r\n                    const q =  await getDoc(counterDocRef);\r\n                    updateDoc(counterDocRef,{\r\n                        currentId:q.data().currentId+1\r\n                    })\r\n\r\n                    \r\n\r\n\r\n\r\n\r\n                    await addDoc(mmessagesCollectionRef,{\r\n                    author:auth.currentUser.uid,\r\n                    type:'text',\r\n                    senttime:Timestamp.now(),\r\n                    filename:'',\r\n                    content:`${i} has been removed from this group`,\r\n                    unread:true,\r\n                    readby:[],\r\n                    ID: q.data().currentId\r\n                    });\r\n\r\n\r\n\r\n                    \r\n                    await updateDoc(ChatDocRef, {\r\n                        senders: arrayRemove(idd)\r\n                    });\r\n\r\n                    await updateDoc(UserDocRef, {\r\n                        chats: arrayRemove(this.chatdata.id)\r\n                    });\r\n                     this.progr = 90;\r\n                     this.loading = false\r\n\r\n\r\n\r\n                    Toastify({\r\n                    text: \"user Removed from your group\",\r\n                    duration: 3000,\r\n                    close: true,\r\n                    gravity: \"bottom\", // `top` or `bottom`\r\n                    position: \"right\", // `left`, `center` or `right`\r\n                    backgroundColor: \"orange\",\r\n                    }).showToast();\r\n                    \r\n                    window.location.reload();\r\n\r\n\r\n\r\n\r\n                    \r\n\r\n\r\n                  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            }catch(error){\r\n                Toastify({\r\n              text: \"Something went Wrong\",\r\n              duration: 3000,\r\n              close: true,\r\n              gravity: \"bottom\", // `top` or `bottom`\r\n              position: \"right\", // `left`, `center` or `right`\r\n              backgroundColor: \"red\",\r\n            }).showToast();\r\n\r\n            }\r\n\r\n\r\n    }\r\n\r\n    },\r\n    \r\n  watch: {\r\n    'data': {\r\n      handler: 'fetch',\r\n      immediate: true\r\n    },\r\n    'mess':{\r\n        handler:'fetch',\r\n        immediate:true\r\n    }\r\n  },computed:{\r\n    filteredfiles() {\r\n      // Check if data.id is not null and filter messages based on type\r\n      if (this.data.id !== null) {\r\n        // Example filter: Only include messages with type 'image' or 'file'\r\n        return this.messages.filter(message => message.type === 'file');\r\n      }\r\n      return [];\r\n    },\r\n    filteredimages() {\r\n      // Check if data.id is not null and filter messages based on type\r\n      if (this.data.id !== null) {\r\n        // Example filter: Only include messages with type 'image' or 'file'\r\n        return this.messages.filter(message => message.type === 'image' );\r\n      }\r\n      return [];\r\n    },\r\n\r\n\r\n  }\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.detail {\r\n  padding: 20px;\r\n}\r\n\r\n.user {\r\n  padding: 20px;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\n.user-img {\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n\r\n.photos {\r\n  max-height: 150px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.shared-photo {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 5px;\r\n  object-fit: cover;\r\n}\r\n\r\n.block-button {\r\n  border-radius: 10px;\r\n  transition: background-color 0.2s ease-in;\r\n}\r\n\r\n.block-button:hover {\r\n  background-color: rgb(122, 14, 14);\r\n}\r\n</style>\r\n","// firebaseConfig.js\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getFirestore } from 'firebase/firestore';\r\nimport { getStorage } from 'firebase/storage';\r\n\r\n\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCCyP-G6yPX1JxVFLxHjO0z5_rVTITFzVI\",\r\n  authDomain: \"cschatapp-fd89c.firebaseapp.com\",\r\n  projectId: \"cschatapp-fd89c\",\r\n  storageBucket: \"cschatapp-fd89c.appspot.com\",\r\n  messagingSenderId: \"1003868956693\",\r\n  appId: \"1:1003868956693:web:65a04171eb02f425a6c61c\",\r\n  measurementId: \"G-HHQCMXL7DH\"\r\n};\r\n\r\n  \r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\nconst firestore = getFirestore(app);\r\nconst storage = getStorage(app)\r\n\r\nexport { auth, firestore ,storage};\r\n","<template>\r\n  <div  class=\"loading-page\">\r\n    <div class=\"loading-icon\">\r\n      <!-- Add your animated loading icon here -->\r\n      <!-- Example: -->\r\n    <i class=\"bi bi-chat\" style=\" font-size: 5rem;\"></i>\r\n\r\n    </div>\r\n    <div class=\"loading-bar-container\">\r\n      <div class=\"loading-bar\" :style=\"{ width: progress + '%' }\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"progress\"]\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.loading-page {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 9999; /* Ensure it's on top of other content */\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n}\r\n\r\n.loading-icon {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.loading-bar-container {\r\n  width: 300px;\r\n  height: 5px;\r\n  background-color: #cccccc58;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n}\r\n\r\n.loading-bar {\r\n  height: 100%;\r\n  background-color: white; /* Change color as needed */\r\n  transition: width 0.2s ease; /* Add smooth transition effect */\r\n}\r\n\r\n\r\n</style>\r\n","import { render } from \"./loadingPage.vue?vue&type=template&id=78a49908&scoped=true\"\nimport script from \"./loadingPage.vue?vue&type=script&lang=js\"\nexport * from \"./loadingPage.vue?vue&type=script&lang=js\"\n\nimport \"./loadingPage.vue?vue&type=style&index=0&id=78a49908&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-78a49908\"]])\n\nexport default __exports__","import { render } from \"./detail.vue?vue&type=template&id=2cbc1aea&scoped=true\"\nimport script from \"./detail.vue?vue&type=script&lang=js\"\nexport * from \"./detail.vue?vue&type=script&lang=js\"\n\nimport \"./detail.vue?vue&type=style&index=0&id=2cbc1aea&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2cbc1aea\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <input type=\"file\" @change=\"handleFileChange\" multiple hidden>\r\n    <div class=\"file-preview\" v-if=\"files.length > 0\">\r\n      <div v-for=\"(file, index) in files\" :key=\"index\" class=\"file-item\">\r\n        <img v-if=\"file.type.startsWith('image/')\" :src=\"file.url\" class=\"file-image\">\r\n        <span v-else class=\"file-name\">{{ file.name }}</span>\r\n        <button @click=\"removeFile(index)\" class=\"remove-button\">&times;</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['files'],\r\n  methods: {\r\n    removeFile(index) {\r\n      this.$emit('remove-file', index);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.file-preview {\r\n    border-top:rgba(0, 0, 0, 0.273) solid;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10px;\r\n  margin-top: 10px;\r\n}\r\n\r\n.file-item {\r\n  position: relative;\r\n  \r\n}\r\n\r\n.file-image {\r\n  width: 100px;\r\n  height: 100px;\r\n  object-fit: cover;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n}\r\n:-webkit-scrollbar {\r\n  width: 5px; /* Width of the scrollbar */\r\n  \r\n\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: transparent; /* Color of the track */\r\n   \r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background-color: transparent; /* Color of the thumb */\r\n  border-radius: 5px; /* Roundness of the thumb */\r\ntransition: background-color 0.1s ease; /* Smooth transition */\r\n\r\n   \r\n}\r\n\r\n\r\n\r\n.file-name {\r\n    max-height: 100px;\r\n  display: block;\r\n  width: 100px;\r\n  height:100px;\r\n  text-align: center;\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  overflow: hidden;\r\n}\r\n\r\n\r\n\r\n.file-name:hover::-webkit-scrollbar-thumb {\r\n  background-color: #888; /* Adjust as needed */\r\n\r\n}\r\n\r\n.remove-button {\r\n  position: absolute;\r\n  top: -15px;\r\n  right: -5px;\r\n  background: none;\r\n  border: none;\r\n  color: red;\r\n  font-size: 50px;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import { render } from \"./filesPreview.vue?vue&type=template&id=029f28b8&scoped=true\"\nimport script from \"./filesPreview.vue?vue&type=script&lang=js\"\nexport * from \"./filesPreview.vue?vue&type=script&lang=js\"\n\nimport \"./filesPreview.vue?vue&type=style&index=0&id=029f28b8&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-029f28b8\"]])\n\nexport default __exports__","import { render } from \"./chat.vue?vue&type=template&id=0d51a9e7&scoped=true\"\nimport script from \"./chat.vue?vue&type=script&lang=js\"\nexport * from \"./chat.vue?vue&type=script&lang=js\"\n\nimport \"./chat.vue?vue&type=style&index=0&id=0d51a9e7&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0d51a9e7\"]])\n\nexport default __exports__","<template>\r\n  <div style=\"height:90vh;overflow:scroll\"  class=\"d-flex flex-column iwnfunweifunwieunfwiuefn\">\r\n    <userinfo :username=\"username\" :profileimagelink=\"profileimagelink\" />\r\n    <chatlist :chats=\"chats\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport chatlist from './chatlist/chatlist.vue';\r\nimport userinfo from './userinfo/userinfo.vue';\r\n\r\nexport default {\r\n  components: { userinfo, chatlist },\r\n  props:['username','profileimagelink','chats'],\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n  ::-webkit-scrollbar {\r\n  width: 5px; /* Width of the scrollbar */\r\n  \r\n\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: transparent; /* Color of the track */\r\n   \r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background-color: transparent; /* Color of the thumb */\r\n  border-radius: 5px; /* Roundness of the thumb */\r\ntransition: background-color 0.1s ease; /* Smooth transition */\r\n\r\n   \r\n}\r\n\r\n.iwnfunweifunwieunfwiuefn:hover::-webkit-scrollbar-thumb {\r\n  background-color: #888; /* Adjust as needed */\r\n\r\n}\r\n\r\n\r\n.list {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"chatlist\">\r\n    <div class=\"search\">\r\n      <div class=\"searchbar\">\r\n        <b-form-input\r\n          v-model=\"searchQuery\"\r\n          type=\"search\"\r\n          placeholder=\"Search\"\r\n          class=\"search-input\"\r\n        ></b-form-input>\r\n        <!-- Replace search image with Font Awesome search icon -->\r\n        <i\r\n          class=\"fas fa-search search-icon\"\r\n          style=\"cursor:pointer\"\r\n        ></i>\r\n      </div>\r\n\r\n      <div\r\n        class=\"oooooooooo\"\r\n        @click=\"$router.push('/add-user-group')\"\r\n        v-b-tooltip.hover\r\n        title=\"Add new user or create new group\"\r\n      >\r\n        <i\r\n          class=\"fas fa-plus add-icon\"\r\n          v-b-tooltip.hover\r\n          title=\"Add new user or create new group\"\r\n        ></i>\r\n      </div>\r\n    </div>\r\n    <div class=\"ppppppppppppp\">\r\n      <div\r\n        @click=\"this.$router.push(`/chat/${chat.id}`)\"\r\n        v-for=\"(chat, index) in filteredChats\"\r\n        :key=\"index\"\r\n        class=\"item\"\r\n      >\r\n        <div class=\"profile-container\">\r\n          <img v-if=\"chat.type === 'discussion'\" :src=\"chat.friendpic\" alt=\"\" />\r\n          <img v-if=\"chat.type === 'group'\" :src=\"chat.groupicon\" alt=\"\" />\r\n          <div v-if=\"chat.type==='discussion'\" :class=\"{'online-indicator':chat.status,'offline-indicator':!chat.status}\"></div>\r\n        </div>\r\n\r\n        <div class=\"texts\" style=\"overflow:hidden\">\r\n          <span v-if=\"chat.type === 'discussion'\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n            {{ chat.friendusername }}\r\n          </span>\r\n          <span v-if=\"chat.type === 'group'\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n            {{ chat.groupname }}\r\n          </span>\r\n\r\n          <p style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n            {{ chat.content }}\r\n          </p>\r\n        </div>\r\n\r\n        <div v-if=\"chat.unreadmessages !== 0\" style=\"flex:1;display:flex;align-items:right;justify-content:right\"><div class=\"indicator\">{{chat.unreadmessages}}</div></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport 'animate.css'\r\n\r\n\r\nexport default {\r\n  name: 'ChatList',\r\n  props: ['chats'],\r\n  data() {\r\n    return {\r\n      searchQuery: '',\r\n      addMode: false,\r\n      first: require('../../../../public/assets/minus.png'),\r\n      second: require('../../../../public/assets/plus.png')\r\n    };\r\n  },\r\n  computed: {\r\n    filteredChats() {\r\n      if (!this.searchQuery) {\r\n        return this.chats;\r\n      }\r\n      return this.chats.filter((chat) => {\r\n        const query = this.searchQuery.toLowerCase();\r\n        if (chat.type === 'discussion') {\r\n          return chat.friendusername.toLowerCase().includes(query);\r\n        } else if (chat.type === 'group') {\r\n          return chat.groupname.toLowerCase().includes(query);\r\n        }\r\n        return false;\r\n      });\r\n    },\r\n  },\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.profile-container {\r\n    position: relative;\r\n    display: inline-block;\r\n}\r\n.online-indicator {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 80%;\r\n    transform: translateX(-50%);\r\n    width: 15px;\r\n    height: 15px;\r\n    background-color: rgb(21, 223, 21);\r\n    border-radius: 50%; /* To make itacircle*/\r\n}\r\n.offline-indicator{\r\n  position: absolute;\r\n    bottom: 0;\r\n    left: 80%;\r\n    transform: translateX(-50%);\r\n    width: 15px;\r\n    height: 15px;\r\n    background-color: rgb(103, 117, 103);\r\n    border-radius: 50%; /* To make itacircle*/\r\n\r\n}\r\n\r\n.oooooooooo {\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 7px;\r\n}\r\n\r\n.search {\r\n  gap: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  max-width: 600px;\r\n  margin: 20px auto;\r\n  padding: 10px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.searchbar {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.search-icon {\r\n  width: 20px;\r\n  height: 20px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.indicator{\r\n  border-radius: 10px;\r\n  background-color: #2a8fc2;\r\n  padding: 7px;\r\n  \r\n}\r\n\r\n.search-input {\r\n  flex-grow: 1;\r\n  padding: 10px;\r\n  border: 2px solid #007BFF;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.search-input:focus {\r\n  border-color: #0056b3;\r\n  box-shadow: 0 0 8px rgba(0, 123, 255, 0.5);\r\n}\r\n\r\n.add-icon {\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n  width: 5px;\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background-color: transparent;\r\n  border-radius: 5px;\r\n  transition: background-color 0.1s ease;\r\n}\r\n\r\n.ppppppppppppp:hover::-webkit-scrollbar-thumb {\r\n  background-color: #888;\r\n}\r\n\r\n.ppppppppppppp{\r\n  height: 50vh;\r\n  overflow-y: auto;\r\n}\r\n\r\n@media (max-height: 300px) {\r\n  .ppppppppppppp {\r\n    height: 30vh; /* Adjust this value as needed */\r\n  }\r\n}\r\n\r\n\r\n/* Adjust height for medium screens (tablets) */\r\n@media (min-height: 300px) and (max-height: 350px) {\r\n  .ppppppppppppp {\r\n    height: 35vh; /* Adjust this value as needed */\r\n  }\r\n}\r\n\r\n@media (min-height: 400px) and (max-height: 500px) {\r\n  .ppppppppppppp {\r\n    height: 35vh; /* Adjust this value as needed */\r\n  }\r\n}\r\n\r\n\r\n/* Adjust height for large screens (desktops) */\r\n@media (min-height: 1025px) {\r\n  .ppppppppppppp {\r\n    height: 50vh; /* Adjust this value as needed */\r\n  }\r\n}\r\n\r\n\r\n\r\n.search .searchbar {\r\n  background-color: rgba(17, 25, 40, 0.5);\r\n  gap: 20px;\r\n  border-radius: 10px;\r\n}\r\n\r\n.search .searchbar input {\r\n  background-color: transparent;\r\n  border: none;\r\n  outline: none;\r\n  color: white;\r\n  flex: 1;\r\n}\r\n\r\n.searchbar img {\r\n  width: 20px;\r\n  height: 20px;\r\n}\r\n\r\n.item {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n  padding: 20px;\r\n  cursor: pointer;\r\n  border-bottom: 1px solid #dddddd35;\r\n}\r\n\r\n.item img {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n\r\n.texts {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.texts span {\r\n  font-weight: 500;\r\n}\r\n\r\n.texts p {\r\n  font-size: 14px;\r\n  font-weight: 300;\r\n}\r\n</style>\r\n","import { render } from \"./chatlist.vue?vue&type=template&id=9e11161a&scoped=true\"\nimport script from \"./chatlist.vue?vue&type=script&lang=js\"\nexport * from \"./chatlist.vue?vue&type=script&lang=js\"\n\nimport \"./chatlist.vue?vue&type=style&index=0&id=9e11161a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9e11161a\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n\r\n    <div class=\"userinfo d-flex align-items-center justify-content-between pt-3 pb-3\">\r\n      \r\n      <div class=\"user d-flex align-items-center gap-2 flex-grow-1\" style=\"overflow:hidden\">\r\n        \r\n\r\n        <div class=\"\">\r\n        <b-navbar toggleable=\"0%\" type=\"white\" style=\"\">\r\n          <b-navbar-toggle target=\"nav-collapse\">\r\n            <template #default=\"{ expanded }\">\r\n                <i v-if=\"!expanded\"  class=\"bi bi-list\" style=\"color:white; font-size: 1.8rem;\"></i>\r\n            </template>\r\n          </b-navbar-toggle>\r\n        </b-navbar>\r\n        </div>\r\n        <div  class=\"avatar-container\">\r\n          <b-avatar  :src=\"profileimagelink\" size=\"md\"></b-avatar>\r\n          <span v-if=\"numberofinvitations !== 0\" class=\"number-indicator\" @click=\"this.$router.push('/invitations')\">{{numberofinvitations}}</span>\r\n        </div>\r\n        <h5  class=\"m-0 user-name\">{{username}}</h5>\r\n      </div>\r\n      \r\n      \r\n      \r\n      \r\n\r\n    \r\n\r\n    </div>\r\n\r\n      <b-collapse id=\"nav-collapse\" is-nav class=\"items\">\r\n        <b-navbar-nav  class=\"navbar\">\r\n          <b-nav-item  class=\"items text-light\" to=\"/\">Home</b-nav-item>\r\n          <b-nav-item class=\"items\"  to=\"/profile\">Profile</b-nav-item>\r\n          <b-nav-item class=\"logout items\" style=\"width:100%;text-align:center;border-radius:10px\" @click.prevent=\"showconfirmation=true\">\r\n            Logout\r\n          </b-nav-item>\r\n        </b-navbar-nav>\r\n      </b-collapse>\r\n\r\n\r\n\r\n  </div>\r\n\r\n  \r\n    <!-- Sliding List Modal -->\r\n    <b-modal\r\n      id=\"logout-confirmation\"\r\n      size=\"lg\"\r\n      hide-footer\r\n      hide-header\r\n      v-model=\"showconfirmation\"\r\n      @hidden=\"showconfirmation = false\"\r\n      centered\r\n\r\n    >\r\n     <template #modal-title>\r\n        Logout Confirmation\r\n      </template>\r\n\r\n      <logoutconfirmation @logout=\"logout\" @close=\"showconfirmation=false\" />\r\n      \r\n      \r\n    </b-modal>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { BAvatar, BDropdown, BDropdownItem } from 'bootstrap-vue-3';\r\nimport { signOut } from 'firebase/auth';\r\nimport Toastify from 'toastify-js';\r\nimport 'toastify-js/src/toastify.css';\r\n\r\n\r\nimport { auth, firestore, storage } from '@/firebase/Config';\r\nimport { createUserWithEmailAndPassword ,sendPasswordResetEmail } from 'firebase/auth';\r\nimport { doc, updateDoc,setDoc ,collection,query,orderBy,getDocs,getDoc,where,limit,onSnapshot,getCountFromServer,arrayRemove,arrayUnion,serverTimestamp ,Timestamp,addDoc} from 'firebase/firestore';\r\nimport { ref, uploadBytes, getDownloadURL ,deleteObject} from 'firebase/storage';\r\nimport logoutconfirmation from '@/components/layout/logoutconfirmation.vue';\r\n\r\n\r\n\r\nexport default {\r\n  props:['username','profileimagelink'],\r\n  components: {\r\n    BAvatar,\r\n    BDropdown,\r\n    BDropdownItem,\r\n    logoutconfirmation\r\n  },methods:{\r\n    async logout(){\r\n\r\n       const UserDocRef = doc(firestore, \"users\", auth.currentUser.uid);\r\n\r\n        await updateDoc(UserDocRef, {\r\n            status: false\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n      await signOut(auth);\r\n\r\n\r\n\r\n\r\n\r\n\r\n      this.$router.push('/login')\r\n       Toastify({\r\n            text: \"Logout Successfully\",\r\n            duration: 2000,\r\n            close: true,\r\n            gravity: \"bottom\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            backgroundColor: \"red\",\r\n          }).showToast();\r\n    },\r\n    async fetch(){\r\n\r\n      const userDocRef = doc(firestore, 'users', auth.currentUser.uid);\r\n\r\n      const o = await onSnapshot(userDocRef,(doc)=>{\r\n         const temp = {...doc.data()};\r\n         if(this.numberofinvitations)\r\n          this.numberofinvitations = temp.invitations.length;\r\n\r\n\r\n      })\r\n      \r\n      this.purge.push(o)\r\n\r\n    }\r\n  },\r\n  created(){\r\n    this.fetch()\r\n  },\r\n  data(){\r\n    return ({\r\n      numberofinvitations:0,\r\n      purge:[],\r\n      showconfirmation:false\r\n    })\r\n  },\r\n  async beforeUnmount(){\r\n   \r\n    this.purge.forEach(func => func());\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n\r\n.avatar-container {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.number-indicator {\r\n  cursor:pointer;\r\n  position: absolute;\r\n  top: -5px;\r\n  right: -5px;\r\n  background-color: red;\r\n  color: white;\r\n  border-radius: 50%;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 12px;\r\n}\r\n.userinfo {\r\n  border-bottom: 1px solid #dee2e6;\r\n}\r\n\r\n.user-name {\r\n  white-space: nowrap; /* Prevent text from wrapping */\r\n  overflow: hidden; /* Hide overflow */\r\n  text-overflow: ellipsis; /* Show ellipsis for overflow text */\r\n}\r\n\r\n.icon-style {\r\n  font-size: 1rem; \r\n  cursor: pointer;\r\n}\r\n\r\n/* Adjust padding and gap for smaller screens */\r\n@media (max-width: 576px) {\r\n  .userinfo {\r\n    padding: 0.5rem;\r\n  }\r\n\r\n  .user {\r\n    gap: 0.5rem;\r\n  }\r\n\r\n  .icons {\r\n    gap: 0.5rem;\r\n  }\r\n}\r\n\r\n\r\n.items{\r\n  color: antiquewhite;\r\n  --bs-nav-link-color: antiquewhite;\r\n  border-color: #dee2e6;\r\n}\r\n.logout{\r\n  transition: all ease-in 0.2s;\r\n}\r\n\r\n.logout:hover{\r\n  background-color: rgb(122, 14, 14);\r\n\r\n}\r\n\r\n.navbar{\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n","<template>\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\">Logout Confirmation</h5>\r\n          \r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <p>Are you sure you want to logout?</p>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <b-button variant=\"primary\" @click=\"this.$emit('close');\">Cancel</b-button>\r\n        <b-button variant=\"danger\" @click=\"this.$emit('logout');\">Logout</b-button>\r\n      </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<style scoped>\r\n.modal-content {\r\n  border-radius: 12px;\r\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\r\n  border-radius: 12px;\r\n  backdrop-filter: blur(19px) saturate(180%);\r\n \r\n}\r\n\r\n.modal-header {\r\n  border-bottom: none;\r\n}\r\n\r\n.modal-title {\r\n  font-size: 1.5rem;\r\n  font-weight: bold;\r\n}\r\n\r\n.modal-body {\r\n  padding: 20px;\r\n}\r\n\r\n.modal-footer {\r\n  border-top: none;\r\n  padding: 15px 20px;\r\n  justify-content: space-between;\r\n}\r\n\r\n.close {\r\n  font-size: 1.5rem;\r\n  color: #000;\r\n  opacity: 0.5;\r\n  transition: opacity 0.2s;\r\n}\r\n\r\n.close:hover {\r\n  opacity: 1;\r\n}\r\n</style>","import { render } from \"./logoutconfirmation.vue?vue&type=template&id=38988a9f&scoped=true\"\nconst script = {}\n\nimport \"./logoutconfirmation.vue?vue&type=style&index=0&id=38988a9f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-38988a9f\"]])\n\nexport default __exports__","import { render } from \"./userinfo.vue?vue&type=template&id=0545f6c0&scoped=true\"\nimport script from \"./userinfo.vue?vue&type=script&lang=js\"\nexport * from \"./userinfo.vue?vue&type=script&lang=js\"\n\nimport \"./userinfo.vue?vue&type=style&index=0&id=0545f6c0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0545f6c0\"]])\n\nexport default __exports__","import { render } from \"./list.vue?vue&type=template&id=81f4ea5c&scoped=true\"\nimport script from \"./list.vue?vue&type=script&lang=js\"\nexport * from \"./list.vue?vue&type=script&lang=js\"\n\nimport \"./list.vue?vue&type=style&index=0&id=81f4ea5c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-81f4ea5c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"d-flex flex-column h-100\">\r\n    <userinfo :username=\"username\" :profileimagelink=\"profileimagelink\" />\r\n    <chatlist :chats=\"chats\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport chatlist from \"@/components/list/chatlist/chatlistmodal.vue\"\r\nimport userinfo from \"@/components/list/userinfo/userinfomodal.vue\"\r\nexport default {\r\n  components: { userinfo, chatlist },\r\n  props:['username','profileimagelink','chats'],\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.list {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n}\r\n</style>\r\n","<template>\r\n<div class=\"chatlist\">\r\n\r\n     <div class=\"search\">\r\n    <div class=\"searchbar\">\r\n      <b-form-input\r\n        v-model=\"searchQuery\"\r\n        type=\"search\"\r\n        placeholder=\"Search\"\r\n        class=\"search-input\"\r\n        @input=\"performSearch\"\r\n      ></b-form-input>\r\n    </div>\r\n    \r\n    <div          v-b-tooltip.hover title=\"Add new user or create new group\"\r\n ><i   @click=\"this.$router.push('/add-user-group')\"  class=\"bi bi-plus kmkmk\" style=\"color:white; font-size: 2rem;cursor:pointer\"></i></div>\r\n\r\n\r\n  </div>\r\n\r\n     <div @click=\"this.$router.push(`/chat/${chat.id}`)\" v-for=\"(chat, index) in filteredChats\" :key=\"index\" class=\"item\">\r\n      <div class=\"profile-container\">\r\n          <img v-if=\"chat.type === 'discussion'\" :src=\"chat.friendpic\" alt=\"\" />\r\n          <img v-if=\"chat.type === 'group'\" :src=\"chat.groupicon\" alt=\"\" />\r\n          <div v-if=\"chat.type==='discussion'\"  :class=\"{'online-indicator':chat.status,'offline-indicator':!chat.status}\"></div> <!-- Online status indicator-->\r\n      </div>\r\n\r\n\r\n      <div class=\"texts\" style=\"overflow:hidden\">\r\n        <span v-if=\"chat.type === 'discussion'\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n          {{ chat.friendusername }}\r\n        </span>\r\n        <span v-if=\"chat.type === 'group'\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n          {{ chat.groupname }}\r\n        </span>\r\n\r\n        <p style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n          {{ chat.content }}\r\n        </p>\r\n      </div>\r\n\r\n        <div v-if=\"chat.unreadmessages !== 0\" style=\"flex:1;display:flex;align-items:right;justify-content:right\"><div class=\"indicator\">{{chat.unreadmessages}}</div></div>\r\n\r\n    </div>\r\n    \r\n</div>\r\n  \r\n</template>\r\n\r\n\r\n\r\n<script>\r\nexport default {\r\n  props:['chats'],\r\n    data(){\r\n        return{\r\n            searchQuery:'',\r\n            addMode:true,\r\n            first:require(\"../../../../public/assets/minus.png\"),\r\n            second:require(\"../../../../public/assets/plus.png\")\r\n        }\r\n    },\r\n    computed: {\r\n    filteredChats() {\r\n      if (!this.searchQuery) {\r\n        return this.chats;\r\n      }\r\n      return this.chats.filter((chat) => {\r\n        const query = this.searchQuery.toLowerCase();\r\n        if (chat.type === 'discussion') {\r\n          return chat.friendusername.toLowerCase().includes(query);\r\n        } else if (chat.type === 'group') {\r\n          return chat.groupname.toLowerCase().includes(query);\r\n        }\r\n        return false;\r\n      });\r\n    },\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.profile-container {\r\n    position: relative;\r\n    display: inline-block;\r\n}\r\n.online-indicator {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 80%;\r\n    transform: translateX(-50%);\r\n    width: 15px;\r\n    height: 15px;\r\n    background-color: rgb(21, 223, 21);\r\n    border-radius: 50%; /* To make itacircle*/\r\n}\r\n.offline-indicator{\r\n  position: absolute;\r\n    bottom: 0;\r\n    left: 80%;\r\n    transform: translateX(-50%);\r\n    width: 15px;\r\n    height: 15px;\r\n    background-color: rgb(103, 117, 103);\r\n    border-radius: 50%; /* To make itacircle*/\r\n\r\n}\r\n\r\n.indicator{\r\n  border-radius: 10px;\r\n  background-color: #2a8fc2;\r\n  padding: 7px;\r\n}\r\n\r\n.kmkmk{\r\n  background-color:green ;\r\n  padding-right: 5px;\r\n  padding-left:5px ;\r\n  color: white;\r\n  border-radius: 7px;\r\n}\r\n\r\n.search {\r\n  gap: 20px;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  max-width: 600px;\r\n  margin: 20px auto;\r\n  padding: 10px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.searchbar {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.search-icon {\r\n  width: 20px;\r\n  height: 20px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.search-input {\r\n  flex-grow: 1;\r\n  padding: 10px;\r\n  border: 2px solid #007BFF;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.search-input:focus {\r\n  border-color: #0056b3;\r\n  box-shadow: 0 0 8px rgba(0, 123, 255, 0.5);\r\n}\r\n\r\n.add-icon {\r\n  width: 20px;\r\n  height: 20px;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n\r\n\r\n::-webkit-scrollbar {\r\n  width: 5px; /* Width of the scrollbar */\r\n  \r\n\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: transparent; /* Color of the track */\r\n   \r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background-color: transparent; /* Color of the thumb */\r\n  border-radius: 5px; /* Roundness of the thumb */\r\ntransition: background-color 0.1s ease; /* Smooth transition */\r\n\r\n   \r\n}\r\n\r\n.chatlist:hover::-webkit-scrollbar-thumb {\r\n  background-color: #888; /* Adjust as needed */\r\n\r\n}\r\n\r\n\r\n\r\n.search .searchbar{\r\n    background-color: rgba(17, 25, 40, 0.5);\r\n    gap: 20px;\r\n    border-radius: 10px;\r\n\r\n}\r\n\r\n.search .searchbar input{\r\n    background-color: transparent;\r\n    border: none;\r\n    outline: none;\r\n    color: white;\r\n    flex: 1;\r\n}\r\n\r\n.searchbar img{\r\n   width: 20px;\r\n   height: 20px;\r\n}\r\n\r\n\r\n\r\n.item{\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 20px;\r\n    padding: 20px;\r\n    cursor: pointer;\r\n    border-bottom: 1px solid #dddddd35;\r\n\r\n}\r\n\r\n.item img{\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    object-fit: cover;\r\n\r\n}\r\n\r\n.texts{\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n    \r\n}\r\n\r\n.texts span{\r\n    font-size: 500; \r\n}\r\n\r\n.texts p{\r\n    font-size: 14px;\r\n    font-weight: 300; \r\n}\r\n\r\n\r\n</style>","import { render } from \"./chatlistmodal.vue?vue&type=template&id=36f60ffa&scoped=true\"\nimport script from \"./chatlistmodal.vue?vue&type=script&lang=js\"\nexport * from \"./chatlistmodal.vue?vue&type=script&lang=js\"\n\nimport \"./chatlistmodal.vue?vue&type=style&index=0&id=36f60ffa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-36f60ffa\"]])\n\nexport default __exports__","<template>\r\n  <div>\r\n\r\n    <div class=\"userinfo d-flex align-items-center justify-content-between pt-3 pb-3\">\r\n      \r\n      <div class=\"user d-flex align-items-center gap-2 flex-grow-1\" style=\"overflow:hidden\">\r\n        \r\n\r\n        <div class=\"\">\r\n        <b-navbar toggleable=\"0%\" type=\"white\" style=\"\">\r\n          <b-navbar-toggle target=\"nav-collapse\">\r\n            <template #default=\"{ expanded }\">\r\n                <i v-if=\"!expanded\"  class=\"bi bi-list\" style=\"color:black; font-size: 1.8rem;\"></i>\r\n\r\n            </template>\r\n          </b-navbar-toggle>\r\n\r\n        </b-navbar>\r\n        </div>\r\n          \r\n  <div class=\"avatar-container\">\r\n          <b-avatar :src=\"profileimagelink\" size=\"md\"></b-avatar>\r\n  <span v-if=\"numberofinvitations !== 0\" class=\"number-indicator\" @click=\"this.$router.push('/invitations')\">{{numberofinvitations}}</span>\r\n        </div>        <h5  class=\"m-0 user-name\">{{username}}</h5>\r\n        \r\n\r\n\r\n      </div>\r\n      \r\n      \r\n      \r\n      \r\n\r\n    \r\n\r\n    </div>\r\n\r\n      <b-collapse id=\"nav-collapse\" is-nav class=\"items\">\r\n        <b-navbar-nav  class=\"navbar\">\r\n          <b-nav-item  class=\"items\"  to=\"/\">Home</b-nav-item>\r\n          <b-nav-item class=\"items\"  to=\"/profile\">Profile</b-nav-item>\r\n          <b-nav-item class=\"items\"  to=\"/invitations\">Invitations</b-nav-item>\r\n\r\n          <b-nav-item class=\"logout items\" style=\"width:100%;text-align:center;border-radius:10px\" @click.prevent=\"showconfirmation=true\">Logout</b-nav-item>\r\n        </b-navbar-nav>\r\n      </b-collapse>\r\n\r\n\r\n\r\n  </div>\r\n\r\n\r\n  <!-- Sliding List Modal -->\r\n    <b-modal\r\n      id=\"logout-confirmation\"\r\n      size=\"lg\"\r\n      hide-footer\r\n      hide-header\r\n      v-model=\"showconfirmation\"\r\n      @hidden=\"showconfirmation = false\"\r\n      centered\r\n\r\n    >\r\n     <template #modal-title>\r\n        Logout Confirmation\r\n      </template>\r\n\r\n      <logoutconfirmation @logout=\"logout\" @close=\"showconfirmation=false\" />\r\n      \r\n      \r\n    </b-modal>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport { BAvatar, BDropdown, BDropdownItem } from 'bootstrap-vue-3';\r\nimport { signOut } from 'firebase/auth';\r\nimport Toastify from 'toastify-js';\r\nimport 'toastify-js/src/toastify.css';\r\n\r\nimport {auth, firestore, storage } from '@/firebase/Config';\r\nimport { createUserWithEmailAndPassword ,sendPasswordResetEmail } from 'firebase/auth';\r\nimport { doc, updateDoc,setDoc ,collection,query,orderBy,getDocs,getDoc,where,limit,onSnapshot,getCountFromServer,arrayRemove,arrayUnion,serverTimestamp ,Timestamp,addDoc} from 'firebase/firestore';\r\nimport { ref, uploadBytes, getDownloadURL ,deleteObject} from 'firebase/storage';\r\nimport logoutconfirmation from '@/components/layout/logoutconfirmation.vue';\r\n\r\n\r\n\r\nexport default {\r\n  props:['username','profileimagelink'],\r\n  components: {\r\n    BAvatar,\r\n    BDropdown,\r\n    BDropdownItem,\r\n    logoutconfirmation\r\n  },methods:{\r\n    async logout(){\r\n\r\n\r\n      \r\n       const UserDocRef = doc(firestore, \"users\", auth.currentUser.uid);\r\n\r\n        await updateDoc(UserDocRef, {\r\n            status: false\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n      await signOut(auth);\r\n\r\n\r\n      this.$router.push('/login')\r\n       Toastify({\r\n            text: \"Logout Successfully\",\r\n            duration: 2000,\r\n            close: true,\r\n            gravity: \"bottom\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            backgroundColor: \"red\",\r\n          }).showToast();\r\n    },\r\n    async fetch(){\r\n\r\n      const userDocRef = doc(firestore, 'users', auth.currentUser.uid);\r\n\r\n      const o = await onSnapshot(userDocRef,(doc)=>{\r\n         const temp = {...doc.data()};\r\n         if(temp.invitations === undefined){\r\n           return;\r\n          }\r\n          this.numberofinvitations = temp.invitations.length;\r\n      })\r\n      \r\n      this.purge.push(o)\r\n     \r\n    }\r\n  },\r\n   created(){\r\n    this.fetch()\r\n  },\r\n   data(){\r\n    return ({\r\n      numberofinvitations:0,\r\n      purge:[],\r\n      showconfirmation:false\r\n\r\n    })\r\n  },\r\n  async beforeUnmount(){\r\n   \r\n    this.purge.forEach(func => func());\r\n\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.avatar-container {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.number-indicator {\r\n  cursor:pointer;\r\n  position: absolute;\r\n  top: -5px;\r\n  right: -5px;\r\n  background-color: red;\r\n  color: white;\r\n  border-radius: 50%;\r\n  width: 20px;\r\n  height: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 12px;\r\n}\r\n.userinfo {\r\n  border-bottom: 1px solid #dee2e6;\r\n}\r\n\r\n.user-name {\r\n  white-space: nowrap; /* Prevent text from wrapping */\r\n  overflow: hidden; /* Hide overflow */\r\n  text-overflow: ellipsis; /* Show ellipsis for overflow text */\r\n}\r\n\r\n.icon-style {\r\n  font-size: 1rem; \r\n  cursor: pointer;\r\n}\r\n\r\n/* Adjust padding and gap for smaller screens */\r\n@media (max-width: 576px) {\r\n  .userinfo {\r\n    padding: 0.5rem;\r\n  }\r\n\r\n  .user {\r\n    gap: 0.5rem;\r\n  }\r\n\r\n  .icons {\r\n    gap: 0.5rem;\r\n  }\r\n}\r\n\r\n\r\n.items{\r\n  color: antiquewhite;\r\n  --bs-nav-link-color: black;\r\n  border-color: #dee2e6;\r\n}\r\n.logout{\r\n  background-color: rgb(188, 23, 23);\r\n  transition: all ease-in 0.2s;\r\n\r\n}\r\n\r\n.logout:hover{\r\n  background-color: rgb(122, 14, 14);\r\n\r\n}\r\n\r\n.navbar{\r\n  margin-top: 10px;\r\n}\r\n</style>\r\n","import { render } from \"./userinfomodal.vue?vue&type=template&id=287a2389&scoped=true\"\nimport script from \"./userinfomodal.vue?vue&type=script&lang=js\"\nexport * from \"./userinfomodal.vue?vue&type=script&lang=js\"\n\nimport \"./userinfomodal.vue?vue&type=style&index=0&id=287a2389&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-287a2389\"]])\n\nexport default __exports__","import { render } from \"./listmodal.vue?vue&type=template&id=339715fa&scoped=true\"\nimport script from \"./listmodal.vue?vue&type=script&lang=js\"\nexport * from \"./listmodal.vue?vue&type=script&lang=js\"\n\nimport \"./listmodal.vue?vue&type=style&index=0&id=339715fa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-339715fa\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"chat\">\r\n    <div class=\"center\">\r\n                <i class=\"bi bi-chat\" style=\" cursor:pointer;font-size: 9rem;\"></i>\r\n        <h1>Cs Chat \r\n          : The chat App for developers\r\n        </h1>\r\n    </div>\r\n\r\n   \r\n  </div>\r\n\r\n  \r\n    <!-- Sliding Detail Modal -->\r\n    <b-modal\r\n      id=\"detail-modal\"\r\n      size=\"lg\"\r\n      hide-footer\r\n      v-model=\"showDetail\"\r\n      @hidden=\"showDetail = false\"\r\n      centered\r\n      class=\"slide-in\"\r\n\r\n\r\n    >\r\n      <template #modal-title>\r\n        Detail\r\n      </template>\r\n      <detail />\r\n    </b-modal>\r\n\r\n    \r\n</template>\r\n\r\n<script>\r\nimport { EmojiButton } from '@joeattardi/emoji-button';\r\nimport detail from \"@/components/detail/detail.vue\"\r\n\r\nexport default {\r\n  components:{detail},\r\n  data() {\r\n    return {\r\n      text: \"\",\r\n      picker: new EmojiButton(),\r\n      showDetail: false\r\n\r\n    };\r\n  },\r\n  mounted() {\r\n    const targetElement = this.$refs.targetscroll;\r\n\r\n      // Check if the element exists\r\n      if (targetElement) {\r\n        // Scroll to the element\r\n        targetElement.scrollIntoView({ behavior: 'smooth' });\r\n      }\r\n\r\n\r\n\r\n\r\n    this.picker.on('emoji', emoji => {\r\n      this.text += emoji.emoji;\r\n    });\r\n  },\r\n  methods: {\r\n    toggleEmojiPicker(event) {\r\n      this.picker.togglePicker(event.target);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.modal-content {\r\n  background-color: red !important; /* Example: Light grey */\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n.chat {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  border-left: 1px solid #dddddd35;\r\n  border-right: 1px solid #dddddd35;\r\n}\r\n.top {\r\n  width: 100%;\r\n  padding: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-bottom: 1px solid #dddddd35;\r\n}\r\n.user {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 20px;\r\n}\r\n.user img {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n}\r\n.texts {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 5px;\r\n}\r\n.texts span {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n}\r\np {\r\n  font-size: 14px;\r\n  font-weight: 300;\r\n  color: white;\r\n}\r\n.icons {\r\n  display: flex;\r\n  gap: 20px;\r\n}\r\n.icons img {\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n}\r\n.center {\r\n  flex: 1 ;\r\n  padding: 20px;\r\n  overflow-y: scroll;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 20px;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n  width: 5px; /* Width of the scrollbar */\r\n  \r\n\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: transparent; /* Color of the track */\r\n   \r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background-color: transparent; /* Color of the thumb */\r\n  border-radius: 5px; /* Roundness of the thumb */\r\ntransition: background-color 0.1s ease; /* Smooth transition */\r\n\r\n   \r\n}\r\n\r\n.center:hover::-webkit-scrollbar-thumb {\r\n  background-color: #888; /* Adjust as needed */\r\n\r\n}\r\n\r\n.send-button{\r\n  background-color: #3365e4;\r\n  border-color: darkblue;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n.message {\r\n  max-width: 70%;\r\n  display: flex;\r\n  gap: 20px;\r\n    margin-bottom:17px ;\r\n\r\n}\r\n.message img {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  margin-top: 20px;\r\n}\r\n.message_own {\r\n  align-self: flex-end;\r\n  margin-bottom:17px ;\r\n}\r\n.message_own .text p{\r\n  background-color: #5183fe;\r\n  color: white;\r\n  padding: 5px;\r\n  border-radius: 5px;\r\n  color: white;\r\n   margin-bottom:0 ;\r\n}\r\n .text p{\r\n  background-color: rgba(17, 25, 40, 0.3);\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  color: white;\r\n  margin-bottom:0 ;\r\n}\r\n\r\n.text img{\r\n  width: 100%;\r\n  height: 300px;\r\n  border-radius: 10px;\r\n  object-fit: cover;\r\n\r\n}\r\n\r\n.time{\r\n  font-size: 12px;\r\n  float: inline-end;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n.bottom {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 20px;\r\n  border-top: 1px solid #dddddd35;\r\n}\r\n.bottom .icons img {\r\n  width: 20px;\r\n  height: 20px;\r\n  cursor: pointer;\r\n}\r\n.bottom textarea {\r\n  flex: 1;\r\n  background-color: rgba(17, 25, 40, 0.5);\r\n  border: none;\r\n  outline: none;\r\n  color: white;\r\n  border-radius: 10px;\r\n  font-size: 18px;\r\n  padding: 10px;\r\n  margin: 0 10px;\r\n  resize: none;\r\n  height: 60px;\r\n}\r\n.bottom .sendButton {\r\n  background-color: #5183fe;\r\n  color: white;\r\n  padding: 10px 20px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","import { render } from \"./welcomePage.vue?vue&type=template&id=75671fe5&scoped=true\"\nimport script from \"./welcomePage.vue?vue&type=script&lang=js\"\nexport * from \"./welcomePage.vue?vue&type=script&lang=js\"\n\nimport \"./welcomePage.vue?vue&type=style&index=0&id=75671fe5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-75671fe5\"]])\n\nexport default __exports__","import { render } from \"./Home.vue?vue&type=template&id=2c3d2fa6\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <b-row class=\"iii\" style=\"overflow-y: scroll;height: 90vh;width:100%\">\r\n      <b-col cols=\"7\" class=\"animated-flex d-none d-xl-block op\"> \r\n        <intro />\r\n      </b-col>\r\n\r\n\r\n\r\n      <b-col  cols=\"12\" xl=\"5\" >\r\n        <div style=\" display: flex;\r\n  justify-content: center;\r\n  align-items:center ;\">\r\n\r\n          <div class=\"app-introduction animated-flex d-xl-none \">\r\n    <h2 style=\"color: rgba(255, 255, 233, 0.9); font-weight: bold;\">CS Chat : The Chat App for Developers\r\n        <i class=\"fas fa-code\" style=\"color: rgba(255, 255, 233, 0.9); font-size: 30px;\"></i>\r\n    </h2><br>\r\n\r\n    \r\n  </div>\r\n        </div>\r\n        \r\n\r\n        <LoginForm/>\r\n      </b-col>\r\n\r\n\r\n\r\n\r\n      \r\n    </b-row>\r\n\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport LoginForm from \"@/components/auth/loginForm.vue\"\r\nimport intro from \"@/components/layout/intro.vue\"\r\nexport default {\r\n    components:{LoginForm,intro}\r\n \r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.op{\r\n      border-right: 1px solid rgba(255, 255, 255, 0.125);\r\n    }\r\n\r\n\r\n    ::-webkit-scrollbar {\r\n  width: 5px; /* Width of the scrollbar */\r\n  \r\n\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: transparent; /* Color of the track */\r\n   \r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background-color: transparent; /* Color of the thumb */\r\n  border-radius: 5px; /* Roundness of the thumb */\r\ntransition: background-color 0.1s ease; /* Smooth transition */\r\n\r\n   \r\n}\r\n\r\n.iii:hover::-webkit-scrollbar-thumb {\r\n  background-color: #888; /* Adjust as needed */\r\n\r\n}\r\n\r\n\r\n.app-introduction {\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 12px;\r\n  padding: 25px;\r\n  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);\r\n  max-width: 350px;\r\n  color: #ffffff;\r\n  text-align: center; /* Centers the text inside the introduction div */\r\n}\r\n\r\n.app-introduction h2 {\r\n  font-size: 26px;\r\n}\r\n\r\n.app-introduction p {\r\n  font-size: 18px;\r\n  line-height: 1.4;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n</style>\r\n\r\n","<template>\r\n  <div class=\"auth-wrapper\">\r\n    <div class=\"auth-card\">\r\n      <div class=\"auth-header\">\r\n        <i class=\"fas fa-user-lock fa-3x\"></i>\r\n        <h2>Welcome Back</h2>\r\n        <p>Please login to your account</p>\r\n      </div>\r\n      <div class=\"social-login\">\r\n        <b-button variant=\"outline-danger\" class=\"social-btn\">\r\n          <i class=\"fab fa-google\"></i> Login with Google\r\n        </b-button>\r\n        <b-button variant=\"outline-primary\" class=\"social-btn\">\r\n          <i class=\"fab fa-facebook-f\"></i> Login with Facebook\r\n        </b-button>\r\n      </div>\r\n\r\n      <div class=\"divider\">\r\n        <span>OR</span>\r\n      </div>\r\n      <b-form @submit.prevent=\"login\" class=\"auth-form\">\r\n        <b-form-group label=\"Email Address\" label-for=\"email\" label-cols=\"12\" label-align-sm=\"left\">\r\n          <div class=\"input-group\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\"><i class=\"fas fa-envelope\"></i></span>\r\n            </div>\r\n            <b-form-input\r\n              id=\"email\"\r\n              v-model=\"email\"\r\n              type=\"email\"\r\n              required\r\n              placeholder=\"Enter your email\"\r\n              class=\"form-input\"\r\n            ></b-form-input>\r\n          </div>\r\n        </b-form-group>\r\n\r\n        <b-form-group label=\"Password\" label-for=\"password\" label-cols=\"12\" label-align-sm=\"left\">\r\n          <div class=\"input-group\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\"><i class=\"fas fa-lock\"></i></span>\r\n            </div>\r\n            <b-form-input\r\n              id=\"password\"\r\n              v-model=\"password\"\r\n              :type=\"showPassword ? 'text' : 'password'\"\r\n              required\r\n              placeholder=\"Enter your password\"\r\n              class=\"form-input\"\r\n            ></b-form-input>\r\n            <div class=\"input-group-append\">\r\n              <span class=\"input-group-text\" @click=\"togglePasswordVisibility\" style=\"cursor: pointer;\">\r\n                <i :class=\"showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'\"></i>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </b-form-group>\r\n\r\n        <b-form-group class=\"d-flex justify-content-between align-items-center\">\r\n          <b-form-checkbox v-model=\"rememberMe\">Remember Me</b-form-checkbox>\r\n          <b-link @click=\"goToResetPassword\" class=\"forgot-password\">Forgot Password?</b-link>\r\n        </b-form-group>\r\n\r\n        <b-button type=\"submit\" variant=\"primary\" class=\"btn-auth w-100 mb-3\">\r\n          <i class=\"fas fa-sign-in-alt mr-2\"></i> Login\r\n        </b-button>\r\n        <b-button @click=\"goToSignUp\" variant=\"outline-primary\" class=\"btn-auth w-100 mb-2\">\r\n          <i class=\"fas fa-user-plus mr-2\"></i> Sign Up\r\n        </b-button>\r\n      </b-form>\r\n\r\n      <div class=\"terms\">\r\n        <p>By logging in, you agree to our <b-link href=\"#\">Terms of Service</b-link> and <b-link href=\"#\">Privacy Policy</b-link>.</p>\r\n      </div>\r\n    </div>\r\n\r\n    <loadingPage v-if=\"loading\" :progress=\"progr\" />\r\n  </div>\r\n</template>\r\n<script>\r\nimport Toastify from 'toastify-js';\r\nimport 'toastify-js/src/toastify.css';\r\nimport { auth, firestore } from '@/firebase/Config';\r\nimport {\r\n  signInWithEmailAndPassword,\r\n  sendPasswordResetEmail,\r\n} from 'firebase/auth';\r\nimport {\r\n  doc,\r\n  updateDoc,\r\n} from 'firebase/firestore';\r\nimport loadingPage from '@/components/layout/loadingPage.vue';\r\n\r\nexport default {\r\n  components: { loadingPage },\r\n  data() {\r\n    return {\r\n      email: '',\r\n      password: '',\r\n      rememberMe: false,\r\n      showPassword: false,\r\n      loading: false,\r\n      progr: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    async login() {\r\n      try {\r\n        this.loading = true;\r\n        this.progr = 30;\r\n\r\n        await signInWithEmailAndPassword(auth, this.email, this.password);\r\n\r\n        const userDocRef = doc(firestore, 'users', auth.currentUser.uid);\r\n\r\n        await updateDoc(userDocRef, {\r\n          status: true,\r\n          lastLogin: new Date(),\r\n        });\r\n\r\n        this.progr = 100;\r\n\r\n        if (this.rememberMe) {\r\n          localStorage.setItem('userEmail', this.email);\r\n        } else {\r\n          localStorage.removeItem('userEmail');\r\n        }\r\n\r\n        this.$router.push('/');\r\n        Toastify({\r\n          text: 'Login Successful!',\r\n          duration: 3000,\r\n          close: true,\r\n          gravity: 'top',\r\n          position: 'right',\r\n          backgroundColor: '#28a745',\r\n        }).showToast();\r\n      } catch (error) {\r\n        this.loading = false;\r\n        Toastify({\r\n          text: error.message,\r\n          duration: 3000,\r\n          close: true,\r\n          gravity: 'top',\r\n          position: 'right',\r\n          backgroundColor: '#dc3545',\r\n        }).showToast();\r\n      }\r\n    },\r\n    goToSignUp() {\r\n      this.$router.push('/signup');\r\n    },\r\n    goToResetPassword() {\r\n      this.$router.push('/reset-password');\r\n    },\r\n    togglePasswordVisibility() {\r\n      this.showPassword = !this.showPassword;\r\n    },\r\n  },\r\n  mounted() {\r\n    const savedEmail = localStorage.getItem('userEmail');\r\n    if (savedEmail) {\r\n      this.email = savedEmail;\r\n      this.rememberMe = true;\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css');\r\n\r\n.auth-wrapper {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n}\r\n\r\n.auth-card {\r\n  background-color: #ffffff;\r\n  padding: 2.5rem;\r\n  border-radius: 16px;\r\n  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1);\r\n  width: 100%;\r\n  max-width: 420px;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.auth-header {\r\n  text-align: center;\r\n  margin-bottom: 1.5rem;\r\n  color: #333333;\r\n}\r\n\r\n.auth-header i {\r\n  margin-bottom: 0.5rem;\r\n  color: #007bff;\r\n}\r\n\r\n.auth-header h2 {\r\n  font-weight: 700;\r\n  margin-bottom: 0.3rem;\r\n}\r\n\r\n.auth-header p {\r\n  font-size: 0.9rem;\r\n  color: #6c757d;\r\n}\r\n\r\n.social-login {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.75rem;\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.social-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.social-btn i {\r\n  margin-right: 0.5rem;\r\n}\r\n\r\n.social-btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.divider {\r\n  display: flex;\r\n  align-items: center;\r\n  text-align: center;\r\n  margin: 1.5rem 0;\r\n}\r\n\r\n.divider::before,\r\n.divider::after {\r\n  content: '';\r\n  flex: 1;\r\n  border-bottom: 1px solid #dee2e6;\r\n}\r\n\r\n.divider:not(:empty)::before {\r\n  margin-right: 0.5rem;\r\n}\r\n\r\n.divider:not(:empty)::after {\r\n  margin-left: 0.5rem;\r\n}\r\n\r\n.auth-form .input-group {\r\n  position: relative;\r\n}\r\n\r\n.form-input {\r\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.form-input:focus {\r\n  border-color: #007bff;\r\n  box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);\r\n}\r\n\r\n.btn-auth {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 600;\r\n  padding: 0.75rem;\r\n  border-radius: 8px;\r\n  transition: background-color 0.3s ease, transform 0.3s ease;\r\n}\r\n\r\n.btn-auth i {\r\n  margin-right: 0.5rem;\r\n}\r\n\r\n.btn-auth:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.btn-auth:active {\r\n  transform: translateY(0);\r\n  box-shadow: none;\r\n}\r\n\r\n.forgot-password {\r\n  color: #007bff;\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n.forgot-password:hover {\r\n  color: #0056b3;\r\n  text-decoration: underline;\r\n}\r\n\r\n.terms {\r\n  text-align: center;\r\n  margin-top: 1.5rem;\r\n  font-size: 0.85rem;\r\n  color: #6c757d;\r\n}\r\n\r\n.terms a {\r\n  color: #007bff;\r\n  text-decoration: none;\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n.terms a:hover {\r\n  color: #0056b3;\r\n  text-decoration: underline;\r\n}\r\n\r\n/* Responsive Design */\r\n@media (max-width: 576px) {\r\n  .auth-card {\r\n    padding: 2rem 1.5rem;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./loginForm.vue?vue&type=template&id=7ea8a3f2&scoped=true\"\nimport script from \"./loginForm.vue?vue&type=script&lang=js\"\nexport * from \"./loginForm.vue?vue&type=script&lang=js\"\n\nimport \"./loginForm.vue?vue&type=style&index=0&id=7ea8a3f2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ea8a3f2\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"container1\">\r\n\r\n    <div class=\"app-introduction\">\r\n    <img src=\"@/assets/intro.jpg\" alt=\"Chat Icon\" class=\"chat-icon\">\r\n    <h2>CS Chat</h2>\r\n    <h4> Chat for Developers\r\n      <i class=\"fas fa-code\" style=\"color: purple;\"></i>\r\n    </h4>\r\n  </div>\r\n  </div>\r\n  \r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AppIntroduction'\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n.container1{\r\n  height: 100%; /* Ensures the full height of the viewport */\r\n  margin: 0; /* Removes default margin */\r\n  display: flex; /* Establishes a flex container */\r\n  justify-content: center; /* Centers children horizontally in the flex container */\r\n  align-items: center; /* Centers children vertically in the flex container */\r\n  background: none;\r\n}\r\n\r\n.app-introduction {\r\n  border-radius: 12px;\r\n  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);\r\n  max-width: 350px;\r\n  color: #ffffff;\r\n  text-align: center; /* Centers the text inside the introduction div */\r\n}\r\n\r\n.app-introduction h2 {\r\n  font-size: 26px;\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.app-introduction p {\r\n  font-size: 18px;\r\n  line-height: 1.4;\r\n}\r\n\r\n.chat-icon {\r\n  width: 70%;\r\n  margin-top: 15px;\r\n  filter: drop-shadow(2px 4px 6px black);\r\n  margin-bottom: 30px;\r\n}\r\n</style>\r\n\r\n","import { render } from \"./intro.vue?vue&type=template&id=385649b6&scoped=true\"\nimport script from \"./intro.vue?vue&type=script&lang=js\"\nexport * from \"./intro.vue?vue&type=script&lang=js\"\n\nimport \"./intro.vue?vue&type=style&index=0&id=385649b6&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-385649b6\"]])\n\nexport default __exports__","import { render } from \"./LoginPage.vue?vue&type=template&id=134a9344&scoped=true\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=134a9344&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-134a9344\"]])\n\nexport default __exports__","<template>\r\n  <b-row class=\"iii\" style=\"overflow-y: scroll;height: 90vh;width:100%\">\r\n    <b-col cols=\"7\" class=\"animated-flex d-none d-xl-block op\"> \r\n      <intro />\r\n    </b-col>\r\n\r\n\r\n\r\n    <b-col  cols=\"12\" xl=\"5\" >\r\n\r\n      \r\n      <div style=\" display: flex;justify-content: center;align-items:center ;\">\r\n\r\n          <div class=\"app-introduction animated-flex d-xl-none \">\r\n            <h2 style=\"color: rgba(255, 255, 233, 0.9); font-weight: bold;\">Welcome to ChatFlow!</h2><br>\r\n          </div>\r\n\r\n      </div>\r\n      \r\n\r\n      <RegisterForm/>\r\n    </b-col>\r\n\r\n\r\n\r\n\r\n    \r\n  </b-row>\r\n\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport RegisterForm from \"@/components/auth/registerform.vue\"\r\nimport intro from \"@/components/layout/intro.vue\"\r\nexport default {\r\n    components:{RegisterForm,intro}\r\n    \r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.op{\r\n      border-right: 1px solid rgba(255, 255, 255, 0.125);\r\n\r\n        \r\n    }\r\n\r\n\r\n    ::-webkit-scrollbar {\r\n  width: 5px; /* Width of the scrollbar */\r\n  \r\n\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: transparent; /* Color of the track */\r\n   \r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background-color: transparent; /* Color of the thumb */\r\n  border-radius: 5px; /* Roundness of the thumb */\r\ntransition: background-color 0.1s ease; /* Smooth transition */\r\n\r\n   \r\n}\r\n\r\n.iii:hover::-webkit-scrollbar-thumb {\r\n  background-color: #888; /* Adjust as needed */\r\n\r\n}\r\n\r\n\r\n.app-introduction {\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 12px;\r\n  padding: 25px;\r\n  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);\r\n  max-width: 350px;\r\n  color: #ffffff;\r\n  text-align: center; /* Centers the text inside the introduction div */\r\n}\r\n\r\n.app-introduction h2 {\r\n  font-size: 26px;\r\n}\r\n\r\n.app-introduction p {\r\n  font-size: 18px;\r\n  line-height: 1.4;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n</style>\r\n","<template>\r\n  <div class=\"auth-wrapper\">\r\n    <div class=\"auth-card\">\r\n      <div class=\"auth-header\">\r\n        <i class=\"fas fa-user-plus fa-3x\"></i>\r\n        <h2>Join Us</h2>\r\n        <p>Create a new account to get started</p>\r\n      </div>\r\n\r\n      <div class=\"divider\">\r\n        <span>OR</span>\r\n      </div>\r\n\r\n      <b-form @submit.prevent=\"register\" class=\"auth-form\">\r\n        <div class=\"profile-picture-upload\">\r\n          <label for=\"profile-picture-input\" class=\"profile-picture-label\">\r\n            <img :src=\"profilePictureUrl || defaultProfilePicture\" alt=\"Profile Picture\" class=\"profile-picture\" />\r\n            <span>Upload an image</span>\r\n          </label>\r\n          <input id=\"profile-picture-input\" type=\"file\" @change=\"onFileChange\" accept=\"image/*\" class=\"form-control-file\" style=\"display:none;\">\r\n        </div>\r\n\r\n        <b-form-group label=\"Username\" label-for=\"username-input\" label-cols=\"12\" label-align-sm=\"left\">\r\n          <div class=\"input-group\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\"><i class=\"fas fa-user\"></i></span>\r\n            </div>\r\n            <b-form-input\r\n              id=\"username-input\"\r\n              v-model=\"username\"\r\n              type=\"text\"\r\n              required\r\n              placeholder=\"Choose a username\"\r\n              class=\"form-input\"\r\n            ></b-form-input>\r\n          </div>\r\n        </b-form-group>\r\n\r\n        <b-form-group label=\"Email\" label-for=\"email-input\" label-cols=\"12\" label-align-sm=\"left\">\r\n          <div class=\"input-group\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\"><i class=\"fas fa-envelope\"></i></span>\r\n            </div>\r\n            <b-form-input\r\n              id=\"email-input\"\r\n              v-model=\"email\"\r\n              type=\"email\"\r\n              required\r\n              placeholder=\"Enter your email\"\r\n              class=\"form-input\"\r\n            ></b-form-input>\r\n          </div>\r\n        </b-form-group>\r\n        <b-form-group label=\"Password\" label-for=\"password-input\" label-cols=\"12\" label-align-sm=\"left\">\r\n          <div class=\"input-group\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\"><i class=\"fas fa-lock\"></i></span>\r\n            </div>\r\n            <b-form-input\r\n              id=\"password-input\"\r\n              v-model=\"password\"\r\n              type=\"password\"\r\n              required\r\n              placeholder=\"Create a password\"\r\n              class=\"form-input\"\r\n            ></b-form-input>\r\n          </div>\r\n        </b-form-group>\r\n\r\n        <b-form-group label=\"Confirm Password\" label-for=\"confirm-password-input\" label-cols=\"12\" label-align-sm=\"left\">\r\n          <div class=\"input-group\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\"><i class=\"fas fa-lock\"></i></span>\r\n            </div>\r\n            <b-form-input\r\n              id=\"confirm-password-input\"\r\n              v-model=\"confirmPassword\"\r\n              type=\"password\"\r\n              required\r\n              placeholder=\"Confirm your password\"\r\n              class=\"form-input\"\r\n            ></b-form-input>\r\n          </div>\r\n        </b-form-group>\r\n\r\n        <b-button type=\"submit\" variant=\"primary\" class=\"btn-auth w-100 mb-3\">\r\n          <i class=\"fas fa-user-plus mr-2\"></i> Register\r\n        </b-button>\r\n        <b-button @click=\"goToLogin\" variant=\"outline-secondary\" class=\"btn-auth w-100 mb-2\">\r\n          <i class=\"fas fa-arrow-left mr-2\"></i> Back to Login\r\n        </b-button>\r\n      </b-form>\r\n\r\n      <div class=\"terms\">\r\n        <p>By registering, you agree to our <b-link href=\"#\">Terms of Service</b-link> and <b-link href=\"#\">Privacy Policy</b-link>.</p>\r\n      </div>\r\n    </div>\r\n\r\n    <loadingPage v-if=\"loading\" :progress=\"progr\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Toastify from 'toastify-js';\r\nimport 'toastify-js/src/toastify.css';\r\nimport { auth, firestore, storage } from '@/firebase/Config';\r\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\r\nimport { doc, setDoc, collection, query, getDocs, where, Timestamp } from 'firebase/firestore';\r\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\r\nimport loadingPage from '@/components/layout/loadingPage.vue';\r\n\r\nexport default {\r\n  components: { loadingPage },\r\n  data() {\r\n    return {\r\n      progr: 0,\r\n      loading: false,\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      description: '',\r\n      confirmPassword: '',\r\n      profilePicture: null,\r\n      profilePictureUrl: '',\r\n      defaultProfilePicture: require('../../assets/default_user.png')\r\n    };\r\n  },\r\n  methods: {\r\n    async register() {\r\n    try {\r\n      this.loading = true;\r\n      this.progr = 30;\r\n\r\n      // Check password match\r\n      if (this.password !== this.confirmPassword) {\r\n        Toastify({\r\n          text: 'Passwords do not match!',\r\n          duration: 3000,\r\n          close: true,\r\n          gravity: 'top',\r\n          position: 'right',\r\n          backgroundColor: '#dc3545',\r\n        }).showToast();\r\n        this.loading = false;\r\n        return;\r\n      }\r\n\r\n      // Create a new user with Firebase Auth\r\n      const userCredential = await createUserWithEmailAndPassword(auth, this.email, this.password);\r\n      const user = userCredential.user;\r\n      this.progr = 60;\r\n\r\n      // Set up profile picture upload\r\n      let profileImageUrl = '';\r\n      if (this.profilePicture) {\r\n        const storageRef = ref(storage, `profileimages/${user.uid}/${this.profilePicture.name}`);\r\n        await uploadBytes(storageRef, this.profilePicture);\r\n        profileImageUrl = await getDownloadURL(storageRef);\r\n      } else {\r\n        profileImageUrl = this.defaultProfilePicture; // Use default profile picture\r\n      }\r\n\r\n      // Add user details to Firestore\r\n      const userDocRef = doc(firestore, 'users', user.uid);\r\n      await setDoc(userDocRef, {\r\n        email: this.email,\r\n        username: this.username.trim(),\r\n        description: this.description.trim(),\r\n        profileImageUrl,\r\n        status: true,\r\n        createdat: Timestamp.now(),\r\n        lastLogin: new Date(),\r\n      });\r\n      this.progr = 100;\r\n\r\n      // Redirect and show success message\r\n      this.$router.push('/');\r\n      Toastify({\r\n        text: 'Registration Successful!',\r\n        duration: 3000,\r\n        close: true,\r\n        gravity: 'top',\r\n        position: 'right',\r\n        backgroundColor: '#28a745',\r\n      }).showToast();\r\n\r\n    } catch (error) {\r\n      this.loading = false;\r\n      Toastify({\r\n        text: error.message,\r\n        duration: 3000,\r\n        close: true,\r\n        gravity: 'top',\r\n        position: 'right',\r\n        backgroundColor: '#dc3545',\r\n      }).showToast();\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  },\r\n\r\n    goToLogin() {\r\n      this.$router.push('/');\r\n    },\r\n    onFileChange(event) {\r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        this.profilePicture = file;\r\n        this.profilePictureUrl = URL.createObjectURL(file);\r\n      }\r\n    },\r\n    async fileToBlob(filePath) {\r\n      const response = await fetch(filePath);\r\n      const blob = await response.blob();\r\n      return blob;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css');\r\n\r\n.auth-wrapper {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n}\r\n\r\n.auth-card {\r\n  background-color: #ffffff;\r\n  padding: 2.5rem;\r\n  border-radius: 16px;\r\n  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1);\r\n  width: 100%;\r\n  max-width: 420px;\r\n}\r\n\r\n.auth-header {\r\n  text-align: center;\r\n  margin-bottom: 1.5rem;\r\n  color: #333333;\r\n}\r\n\r\n.auth-header i {\r\n  margin-bottom: 0.5rem;\r\n  color: #007bff;\r\n}\r\n\r\n.profile-picture-upload {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.profile-picture {\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  border: 2px solid #ccc;\r\n}\r\n\r\n.divider {\r\n  text-align: center;\r\n  margin: 1.5rem 0;\r\n}\r\n\r\n.divider::before,\r\n.divider::after {\r\n  content: '';\r\n  flex: 1;\r\n  border-bottom: 1px solid #dee2e6;\r\n}\r\n\r\n.auth-form .input-group-prepend .input-group-text {\r\n  background-color: #e9ecef;\r\n}\r\n\r\n.form-input {\r\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.btn-auth {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 600;\r\n  padding: 0.75rem;\r\n  border-radius: 8px;\r\n  transition: background-color 0.3s ease, transform 0.3s ease;\r\n}\r\n\r\n.terms {\r\n  text-align: center;\r\n  margin-top: 1.5rem;\r\n  font-size: 0.85rem;\r\n  color: #6c757d;\r\n}\r\n\r\n.terms a {\r\n  color: #007bff;\r\n}\r\n</style>\r\n","import { render } from \"./registerform.vue?vue&type=template&id=6fb196de&scoped=true\"\nimport script from \"./registerform.vue?vue&type=script&lang=js\"\nexport * from \"./registerform.vue?vue&type=script&lang=js\"\n\nimport \"./registerform.vue?vue&type=style&index=0&id=6fb196de&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6fb196de\"]])\n\nexport default __exports__","import { render } from \"./RegisterPage.vue?vue&type=template&id=2fb0f67c&scoped=true\"\nimport script from \"./RegisterPage.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterPage.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterPage.vue?vue&type=style&index=0&id=2fb0f67c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2fb0f67c\"]])\n\nexport default __exports__","<template>\r\n\r\n    <b-row v-if=\"doneloading\" class=\"d-xl-none mb-3\">\r\n      \r\n      \r\n\r\n      \r\n      \r\n      \r\n\r\n       \r\n      <b-row style=\"display:flex;flex-direction:column\">\r\n        \r\n      \r\n    \r\n      <b-col v-b-tooltip.hover title=\"show contacts list\" style=\"cursor:pointer;margin-right:15px;margin-left:20px;margin-top:20px\">\r\n            <i @click=\"showList = true\"  class=\"bi bi-chat-fill\" style=\" font-size: 1.8rem;\"></i>\r\n      </b-col>\r\n      \r\n    </b-row>\r\n      \r\n      \r\n    </b-row>\r\n\r\n\r\n    <b-row v-if=\"doneloading\" style=\"height: 90vh;width:100%\">\r\n      <b-col cols=\"3\" class=\"animated-flex d-none d-xl-block\"> \r\n        <list :chats=\"chats\" :profileimagelink=\"user.profileImageUrl\" :username=\"user.username\" />\r\n      </b-col>\r\n      <b-col cols=\"12\" xl=\"9\" class=\"ooo\">    \r\n        <chat :chatid=\"chatid\"/>\r\n\r\n      </b-col>\r\n     \r\n    </b-row>\r\n\r\n    <loadingPage v-if=\"loading\" :progress=\"progr\"/>\r\n\r\n\r\n    <!-- Sliding List Modal -->\r\n    <b-modal\r\n      id=\"list-modal\"\r\n      size=\"lg\"\r\n      hide-footer\r\n      v-model=\"showList\"\r\n      @hidden=\"resetModal\"\r\n      centered\r\n      class=\"slide-in\"\r\n    >\r\n      <template #modal-title>\r\n        List\r\n      </template>\r\n      <listmodal  :chats=\"chats\" :profileimagelink=\"user.profileImageUrl\" :username=\"user.username\"  />\r\n    </b-modal>\r\n\r\n   \r\n</template>\r\n\r\n<script>\r\nimport chat from \"../components/chat/chat.vue\";\r\nimport list from \"../components/list/list.vue\";\r\nimport listmodal from \"../components/modals/listmodal.vue\"\r\nimport detail from \"@/components/detail/detail.vue\"\r\nimport loadingPage from '@/components/layout/loadingPage.vue';\r\nimport Toastify from 'toastify-js';\r\nimport 'toastify-js/src/toastify.css';\r\nimport { auth, firestore, storage } from '@/firebase/Config';\r\nimport { createUserWithEmailAndPassword ,sendPasswordResetEmail } from 'firebase/auth';\r\nimport { doc, setDoc ,collection,query,orderBy,getDocs,getDoc,where,limit,onSnapshot,getCountFromServer} from 'firebase/firestore';\r\nimport { ref, uploadBytes, getDownloadURL ,deleteObject} from 'firebase/storage';\r\n\r\n\r\n\r\n\r\nexport default {\r\n  props:['chatid'],\r\n  components: { chat, list, detail ,listmodal,loadingPage},\r\n  async created(){\r\n\r\n    await this.fetch()\r\n\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      user:{username:'error',profileImageUrl:null,chats:[]},\r\n      chats:[],\r\n      listeners:{},\r\n      purge:[],\r\n      loading:true,\r\n      showList: false,\r\n      showDetail: false,\r\n      doneloading:true,\r\n      progr:0,\r\n    };\r\n  },\r\n  computed: {\r\n    isMediumAndUp() {\r\n      return window.innerWidth >= 768;\r\n    }\r\n  },\r\n  async mounted() {\r\n    window.addEventListener(\"resize\", this.handleResize);\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener(\"resize\", this.handleResize);\r\n  },\r\n  async beforeUnmount(){\r\n    Object.values(this.listeners).forEach(func => {\r\n  \r\n      func();\r\n  \r\n    });\r\n\r\n    this.purge.forEach(func => func());\r\n\r\n  },\r\n  methods: {\r\n    handleResize() {\r\n      if (this.isMediumAndUp) {\r\n        this.showList = false;\r\n        this.showDetail = false;\r\n      }\r\n    },\r\n    resetModal() {\r\n      if (this.isMediumAndUp) {\r\n        this.showList = false;\r\n        this.showDetail = false;\r\n      }\r\n    },\r\n    async fetch(){\r\n        const userDocRef = doc(firestore, 'users', auth.currentUser.uid);\r\n\r\n        const o = await onSnapshot(userDocRef, (snapshot) => {\r\n          \r\n\r\n          if (snapshot.exists()) {\r\n          const temp = snapshot.data(); \r\n          this.user.username = temp.username;\r\n          this.user.profileImageUrl = temp.profileImageUrl;\r\n          this.user.chats = temp.chats;\r\n          if(!temp.chats.includes(this.chatid)){\r\n            this.$router.push('/')\r\n          }\r\n          this.fetchdata(temp)\r\n\r\n        } else {\r\n           Toastify({\r\n            text: \"Something went Wrong\",\r\n            duration: 3000,\r\n            close: true,\r\n            gravity: \"bottom\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            backgroundColor: \"red\",\r\n          }).showToast();\r\n          \r\n        }\r\n\r\n\r\n         })\r\n        \r\n        this.purge.push(o)\r\n    },\r\n    async fetchdata(user){\r\n\r\n      \r\n      if (user.chats.length !== 0){\r\n\r\n\r\n          const chatsQuery = query(collection(firestore, 'chats'), where('__name__', 'in', user.chats));\r\n\r\n          const o = await onSnapshot(chatsQuery, (snapshot) => {\r\n\r\n\r\n            snapshot.docChanges().forEach(async (change) => {\r\n\r\n                if(!change.doc.data().senders.includes(auth.currentUser.uid)){\r\n                  window.location.reload();\r\n                }\r\n\r\n                if(change.type === 'added'){\r\n                const DOC = change.doc\r\n                const chat = {\r\n                  id: DOC.id,\r\n                  ...DOC.data()\r\n                }\r\n\r\n                let friend;\r\n                let friendid;\r\n                if (chat.senders[0] === auth.currentUser.uid){\r\n                   friendid = chat.senders[1];\r\n                }\r\n                else{\r\n                   friendid = chat.senders[0];\r\n                }\r\n                const chatDocRef = doc(firestore, 'chats', chat.id);\r\n                const messagesCollectionRef = collection(chatDocRef, 'message');\r\n                const messagesQuery = query(messagesCollectionRef, orderBy('ID', 'desc'));\r\n\r\n                const p = onSnapshot(messagesQuery, async (snapshot) => {\r\n            \r\n\r\n                              const querySnapshot = snapshot;\r\n                              let content;\r\n                              let time;\r\n                              let unreadmessages;\r\n\r\n                             \r\n\r\n\r\n\r\n                  \r\n\r\n                              if (chat.type === 'discussion'){\r\n                                const unreadMessagesQuery = query(messagesCollectionRef, where('unread', '==', true),where('author','!=',auth.currentUser.uid));\r\n                                const temp = await getCountFromServer(unreadMessagesQuery);\r\n                                unreadmessages = temp.data().count;\r\n\r\n                                        const userDocRef = doc(firestore, 'users',friendid);\r\n\r\n                                        if(!(friendid in this.listeners)){\r\n\r\n                                          const lis =  await onSnapshot(userDocRef,(doc)=>{\r\n                                              this.updatestatus({...doc.data(),id:doc.id});\r\n                                          })\r\n\r\n                                          this.listeners[friendid] = lis;\r\n\r\n                                        }\r\n\r\n                                        const userDoc = await getDoc(userDocRef);\r\n\r\n\r\n\r\n                                            if (userDoc.exists()) {\r\n                                              friend = {...userDoc.data(),id:userDoc.id};          \r\n                                            } else {\r\n                                              Toastify({\r\n                                                text: \"Something went Wrong\",\r\n                                                duration: 3000,\r\n                                                close: true,\r\n                                                gravity: \"bottom\", // `top` or `bottom`\r\n                                                position: \"right\", // `left`, `center` or `right`\r\n                                                backgroundColor: \"red\",\r\n                                              }).showToast();\r\n                                          \r\n                                            }\r\n\r\n                                      if (!querySnapshot.empty) {\r\n                                      // There is at least one message in the subcollection\r\n                                      const lastMessageDoc = querySnapshot.docs[0];\r\n                                      const lastMessageData = lastMessageDoc.data();\r\n                                      if (lastMessageData.type === 'text'){\r\n                                        content = lastMessageData.content;\r\n                                        time = lastMessageData.senttime;\r\n                                      }\r\n                                      else if(lastMessageData.type === 'image'){\r\n                                        content = 'Image Sent';\r\n                                        time = lastMessageData.senttime;\r\n\r\n                                      }\r\n                                      else{\r\n                                        content = 'document Sent';\r\n                                        time = lastMessageData.senttime;\r\n\r\n                                      }\r\n                                      \r\n                                    } else {\r\n                                        content = 'Invitation Accepted';\r\n                                        time = chat.createdat;\r\n                                    }\r\n\r\n\r\n                                      this.updater({...chat,friendusername:friend.username,friendpic:friend.profileImageUrl,content,time,unreadmessages,status:friend.status,friendid:friend.id})\r\n                                        \r\n\r\n                              }\r\n                              else{\r\n                                  const unreadMessagesQuery = query(messagesCollectionRef, where('readby', 'array-contains', auth.currentUser.uid),where('author','!=',auth.currentUser.uid));\r\n                                  const allMessagesQuery = query(messagesCollectionRef,where('author','!=',auth.currentUser.uid));\r\n\r\n                                  const temp = await getCountFromServer(unreadMessagesQuery);\r\n                                  const temp2 = await getCountFromServer(allMessagesQuery);\r\n                                  unreadmessages = temp2.data().count -  temp.data().count;\r\n                                  console.log(unreadmessages)\r\n\r\n                        \r\n                               \r\n\r\n                                if (!querySnapshot.empty) {\r\n                                // There is at least one message in the subcollection\r\n                                const lastMessageDoc = querySnapshot.docs[0];\r\n                                const lastMessageData = lastMessageDoc.data();\r\n                                if (lastMessageData.type === 'text'){\r\n                                  content = lastMessageData.content;\r\n                                  time = lastMessageData.senttime;\r\n                                }\r\n                                else if(lastMessageData.type === 'image'){\r\n                                  content = 'Image Sent';\r\n                                  time = lastMessageData.senttime;\r\n\r\n                                }\r\n                                else{\r\n                                  content = 'document Sent';\r\n                                  time = lastMessageData.senttime;\r\n\r\n                                }\r\n                                \r\n                                } else {\r\n                                  content = 'Invitation Accepted';\r\n                                  time = chat.createdat;\r\n                                }\r\n\r\n\r\n\r\n\r\n\r\n                                this.updater({...chat,time,content,unreadmessages})\r\n                              }\r\n\r\n\r\n\r\n\r\n                })\r\n                this.purge.push(p)\r\n                  }\r\n\r\n\r\n\r\n            });\r\n\r\n\r\n\r\n           })\r\n          this.purge.push(o)\r\n          this.loading = false;\r\n\r\n        }\r\n        else{\r\n          this.loading = false;\r\n        }\r\n\r\n\r\n    },\r\n    updater(data){\r\n      const index = this.chats.findIndex(obj => obj.id === data.id);\r\n\r\n      if(index === -1){\r\n        this.chats.push(data)\r\n      }\r\n      else{\r\n        this.chats[index] = data;\r\n      }\r\n      this.chats = [...this.chats].sort((a, b) => b.time.seconds - a.time.seconds);\r\n\r\n\r\n    },\r\n    updatestatus(data){\r\n      const index = this.chats.findIndex(obj =>obj.type==='discussion' && obj.friendid === data.id);\r\n\r\n      if(index !== -1){\r\n        this.chats[index].status = data.status;\r\n\r\n      }\r\n      \r\n\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import { render } from \"./Chat.vue?vue&type=template&id=03387662\"\nimport script from \"./Chat.vue?vue&type=script&lang=js\"\nexport * from \"./Chat.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n\r\n    <b-row class=\"d-xl-none mb-3\">\r\n      \r\n     \r\n       \r\n      <b-row style=\"display:flex;flex-direction:column\">\r\n        \r\n\r\n            <b-col v-b-tooltip.hover title=\"show contacts list\" style=\"cursor:pointer;margin-right:15px;margin-left:20px;margin-top:20px\">\r\n                    <i @click=\"showList = true\"  class=\"bi bi-chat-fill\" style=\" font-size: 1.8rem;\"></i>\r\n            </b-col>\r\n\r\n\r\n      \r\n        </b-row>\r\n      \r\n      \r\n    </b-row>\r\n\r\n\r\n\r\n\r\n\r\n    <b-row style=\"height: 90vh;width:100%\">\r\n      <b-col cols=\"3\" class=\"animated-flex d-none d-xl-block\"> \r\n        <list :chats=\"chats\" :profileimagelink=\"user.profileImageUrl\" :username=\"user.username\" />\r\n      </b-col>\r\n      <b-col cols=\"12\" xl=\"9\" class=\"ooo\">    \r\n        <invitations :invitations=\"invitations\" />\r\n      </b-col>\r\n     \r\n    </b-row>\r\n\r\n    <!-- Sliding List Modal -->\r\n    <b-modal\r\n      id=\"list-modal\"\r\n      size=\"lg\"\r\n      hide-footer\r\n      v-model=\"showList\"\r\n      @hidden=\"resetModal\"\r\n      centered\r\n      class=\"slide-in\"\r\n    >\r\n      <template #modal-title>\r\n        List\r\n      </template>\r\n      <listmodal :chats=\"chats\" :profileimagelink=\"user.profileImageUrl\" :username=\"user.username\" />\r\n    </b-modal>\r\n\r\n    \r\n \r\n  \r\n</template>\r\n\r\n<script>\r\nimport chat from \"../components/chat/chat.vue\";\r\nimport list from \"../components/list/list.vue\";\r\nimport listmodal from \"../components/modals/listmodal.vue\"\r\nimport invitations from \"@/components/invitations/invitations.vue\"\r\nimport Toastify from 'toastify-js';\r\nimport 'toastify-js/src/toastify.css';\r\nimport { auth, firestore, storage } from '@/firebase/Config';\r\nimport { createUserWithEmailAndPassword ,sendPasswordResetEmail } from 'firebase/auth';\r\nimport { doc, setDoc ,collection,query,orderBy,getDocs,getDoc,where,limit,onSnapshot,getCountFromServer} from 'firebase/firestore';\r\nimport { ref, uploadBytes, getDownloadURL ,deleteObject} from 'firebase/storage';\r\nimport loadingPage from '@/components/layout/loadingPage.vue';\r\n\r\n\r\nexport default {\r\n  components: { chat, list,listmodal,invitations },\r\n  async created(){\r\n\r\n    await this.fetch()\r\n\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      user:{username:'error',profileImageUrl:null,chats:[],invitations:[]},\r\n      chats:[],\r\n      invitations:[],\r\n       listeners:{},\r\n      purge:[],\r\n      loading:true,\r\n      showList: false,\r\n      showDetail: false\r\n    };\r\n  },\r\n  computed: {\r\n    isMediumAndUp() {\r\n      return window.innerWidth >= 768;\r\n    }\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"resize\", this.handleResize);\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener(\"resize\", this.handleResize);\r\n  },\r\n  async beforeUnmount(){\r\n    Object.values(this.listeners).forEach(func => {\r\n  \r\n      func();\r\n  \r\n    });\r\n\r\n    this.purge.forEach(func => func());\r\n\r\n  },\r\n  methods: {\r\n    handleResize() {\r\n      if (this.isMediumAndUp) {\r\n        this.showList = false;\r\n        this.showDetail = false;\r\n      }\r\n    },\r\n    resetModal() {\r\n      if (this.isMediumAndUp) {\r\n        this.showList = false;\r\n        this.showDetail = false;\r\n      }\r\n    },\r\n      async fetch(){\r\n       const userDocRef = doc(firestore, 'users', auth.currentUser.uid);\r\n\r\n        const o = await onSnapshot(userDocRef, (snapshot) => {\r\n\r\n          if (snapshot.exists()) {\r\n          const temp = snapshot.data(); \r\n          this.user.username = temp.username;\r\n          this.user.profileImageUrl = temp.profileImageUrl;\r\n          this.user.chats = temp.chats;\r\n          this.fetchdata(temp)\r\n\r\n        } else {\r\n           Toastify({\r\n            text: \"Something went Wrong\",\r\n            duration: 3000,\r\n            close: true,\r\n            gravity: \"bottom\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            backgroundColor: \"red\",\r\n          }).showToast();\r\n          \r\n        }\r\n\r\n\r\n         })\r\n        \r\n        this.purge.push(o)\r\n    },\r\n    async fetchdata(user){\r\n      this.invitations = []\r\n\r\n      if(user.invitations && user.invitations.length !== 0){\r\n\r\n        user.invitations.forEach(async (invitation)=>{\r\n          if (invitation.type === 'group'){\r\n              const invit = {\r\n                ...invitation\r\n              };\r\n\r\n              const chatDocRef = doc(firestore, 'chats', invitation.id);\r\n              const chatreceived = await getDoc(chatDocRef);\r\n              const temp = chatreceived.data()\r\n              invit.groupicon  = temp.groupicon;\r\n              invit.groupname = temp.groupname;\r\n\r\n              this.invitations.push(invit)\r\n\r\n\r\n          }\r\n          else{\r\n              const invit = {\r\n                ...invitation\r\n              };\r\n              const userDocRef = doc(firestore, 'users',invitation.id);\r\n              const userDoc = await getDoc(userDocRef);\r\n              const temp = userDoc.data()\r\n\r\n              invit.friendpic  = temp.profileImageUrl;\r\n              invit.friendusername = temp.username;\r\n\r\n              this.invitations.push(invit)\r\n\r\n\r\n          }\r\n\r\n\r\n\r\n\r\n        })\r\n\r\n\r\n\r\n      }\r\n\r\n\r\n\r\n\r\n      \r\n      if (user.chats&&user.chats.length !== 0){\r\n\r\n          const chatsQuery = query(collection(firestore, 'chats'), where('__name__', 'in', user.chats));\r\n\r\n          const o = await onSnapshot(chatsQuery, (snapshot) => {\r\n\r\n\r\n            snapshot.docChanges().forEach(async (change) => {\r\n               \r\n                if(change.type === 'added'){\r\n                const DOC = change.doc\r\n                const chat = {\r\n                  id: DOC.id,\r\n                  ...DOC.data()\r\n                }\r\n\r\n                let friend;\r\n                let friendid;\r\n                if (chat.senders[0] === auth.currentUser.uid){\r\n                   friendid = chat.senders[1];\r\n                }\r\n                else{\r\n                   friendid = chat.senders[0];\r\n                }\r\n                const chatDocRef = doc(firestore, 'chats', chat.id);\r\n                const messagesCollectionRef = collection(chatDocRef, 'message');\r\n                const messagesQuery = query(messagesCollectionRef, orderBy('ID', 'desc'));\r\n\r\n                const p = onSnapshot(messagesQuery, async (snapshot) => {\r\n            \r\n\r\n                              const querySnapshot = snapshot;\r\n                              let content;\r\n                              let time;\r\n                              let unreadmessages;\r\n\r\n                             \r\n\r\n\r\n\r\n                  \r\n\r\n                              if (chat.type === 'discussion'){\r\n                                const unreadMessagesQuery = query(messagesCollectionRef, where('unread', '==', true),where('author','!=',auth.currentUser.uid));\r\n                                const temp = await getCountFromServer(unreadMessagesQuery);\r\n                                unreadmessages = temp.data().count;\r\n\r\n                                        const userDocRef = doc(firestore, 'users',friendid);\r\n\r\n                                        if(!(friendid in this.listeners)){\r\n\r\n                                          const lis =  await onSnapshot(userDocRef,(doc)=>{\r\n                                              this.updatestatus({...doc.data(),id:doc.id});\r\n                                          })\r\n\r\n                                          this.listeners[friendid] = lis;\r\n\r\n                                        }\r\n\r\n                                        const userDoc = await getDoc(userDocRef);\r\n\r\n\r\n\r\n                                            if (userDoc.exists()) {\r\n                                              friend = {...userDoc.data(),id:userDoc.id};          \r\n                                            } else {\r\n                                              Toastify({\r\n                                                text: \"Something went Wrong\",\r\n                                                duration: 3000,\r\n                                                close: true,\r\n                                                gravity: \"bottom\", // `top` or `bottom`\r\n                                                position: \"right\", // `left`, `center` or `right`\r\n                                                backgroundColor: \"red\",\r\n                                              }).showToast();\r\n                                          \r\n                                            }\r\n\r\n                                      if (!querySnapshot.empty) {\r\n                                      // There is at least one message in the subcollection\r\n                                      const lastMessageDoc = querySnapshot.docs[0];\r\n                                      const lastMessageData = lastMessageDoc.data();\r\n                                      if (lastMessageData.type === 'text'){\r\n                                        content = lastMessageData.content;\r\n                                        time = lastMessageData.senttime;\r\n                                      }\r\n                                      else if(lastMessageData.type === 'image'){\r\n                                        content = 'Image Sent';\r\n                                        time = lastMessageData.senttime;\r\n\r\n                                      }\r\n                                      else{\r\n                                        content = 'document Sent';\r\n                                        time = lastMessageData.senttime;\r\n\r\n                                      }\r\n                                      \r\n                                    } else {\r\n                                        content = 'Invitation Accepted';\r\n                                        time = chat.createdat;\r\n                                    }\r\n\r\n\r\n                                      this.updater({...chat,friendusername:friend.username,friendpic:friend.profileImageUrl,content,time,unreadmessages,status:friend.status,friendid:friend.id})\r\n                                        \r\n\r\n                              }\r\n                              else{\r\n                                  const unreadMessagesQuery = query(messagesCollectionRef, where('readby', 'array-contains', auth.currentUser.uid),where('author','!=',auth.currentUser.uid));\r\n                                  const allMessagesQuery = query(messagesCollectionRef,where('author','!=',auth.currentUser.uid));\r\n\r\n                                  const temp = await getCountFromServer(unreadMessagesQuery);\r\n                                  const temp2 = await getCountFromServer(allMessagesQuery);\r\n                                  unreadmessages = temp2.data().count -  temp.data().count;\r\n                                  console.log(unreadmessages)\r\n\r\n                        \r\n                               \r\n\r\n                                if (!querySnapshot.empty) {\r\n                                // There is at least one message in the subcollection\r\n                                const lastMessageDoc = querySnapshot.docs[0];\r\n                                const lastMessageData = lastMessageDoc.data();\r\n                                if (lastMessageData.type === 'text'){\r\n                                  content = lastMessageData.content;\r\n                                  time = lastMessageData.senttime;\r\n                                }\r\n                                else if(lastMessageData.type === 'image'){\r\n                                  content = 'Image Sent';\r\n                                  time = lastMessageData.senttime;\r\n\r\n                                }\r\n                                else{\r\n                                  content = 'document Sent';\r\n                                  time = lastMessageData.senttime;\r\n\r\n                                }\r\n                                \r\n                                } else {\r\n                                  content = 'Invitation Accepted';\r\n                                  time = chat.createdat;\r\n                                }\r\n\r\n\r\n\r\n\r\n\r\n                                this.updater({...chat,time,content,unreadmessages})\r\n                              }\r\n\r\n\r\n\r\n\r\n                })\r\n                this.purge.push(p)}\r\n\r\n\r\n            });\r\n\r\n\r\n           })\r\n          this.purge.push(o)\r\n          this.loading = false;\r\n\r\n        }\r\n        else{\r\n          this.loading = false;\r\n        }\r\n\r\n\r\n    }\r\n    ,\r\n    updater(data){\r\n      const index = this.chats.findIndex(obj => obj.id === data.id);\r\n\r\n      if(index === -1){\r\n        this.chats.push(data)\r\n      }\r\n      else{\r\n        this.chats[index] = data;\r\n      }\r\n      this.chats = [...this.chats].sort((a, b) => b.time.seconds - a.time.seconds);\r\n\r\n        console.log(this.chats)\r\n\r\n    },\r\n    updatestatus(data){\r\n      const index = this.chats.findIndex(obj =>obj.type==='discussion' && obj.friendid === data.id);\r\n\r\n      if(index !== -1){\r\n        this.chats[index].status = data.status;\r\n\r\n      }\r\n      \r\n\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","<template>\r\n  <div class=\"chat\">\r\n\r\n   \r\n    <div class=\"search\">\r\n    <div class=\"searchbar\">\r\n      <b-form-input\r\n      style=\"w-100\"\r\n        v-model=\"searchQuery\"\r\n        type=\"search\"\r\n        placeholder=\"Search\"\r\n        class=\"search-input\"\r\n        @input=\"performSearch\"\r\n      ></b-form-input>\r\n\r\n\r\n    </div>\r\n        <i v-if=\"!expanded\"  class=\"bi bi-search\" style=\"color:white; font-size: 1.8rem;\"></i>\r\n\r\n  </div>\r\n\r\n   <div class=\"iiiiiiiii\">\r\n\r\n\r\n    <div :key=\"index\" v-for=\"invitation,index in filteredinvitaions\" class=\"item\">\r\n        <img v-if=\"invitation.type === 'discussion'\" :src=\"invitation.friendpic\" alt=\"\" />\r\n        <img v-if=\"invitation.type === 'group'\" :src=\"invitation.groupicon\" alt=\"\" />\r\n\r\n        <div class=\"texts\" style=\"overflow:hidden\">\r\n           \r\n            <span v-if=\"invitation.type === 'discussion'\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n            {{ invitation.friendusername }}\r\n            </span>\r\n            <p v-if=\"invitation.type === 'discussion'\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">Friend Invitation</p>\r\n\r\n\r\n            <span v-if=\"invitation.type === 'group'\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">\r\n            {{ invitation.groupname }}\r\n            </span>\r\n            <p v-if=\"invitation.type === 'group'\" style=\"white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">Group Invitation</p>\r\n\r\n        </div>\r\n\r\n\r\n\r\n\r\n        <div style=\"flex:1;display:flex;justify-content:end;align-items:space-between;gap:50px\">\r\n  \r\n            <b-button @click=\"acceptinvitation(invitation)\"  variant=\"success\"  >\r\n                <i class=\"bi bi-check-lg\" style=\"border-radius:;color:white; font-size: 2rem;\"></i>\r\n            </b-button>\r\n             <b-button @click=\"refuseinvitation(invitation)\"  variant=\"danger\"  >\r\n                <i   class=\"bi bi-x-lg\" style=\"color:white; font-size: 1.8rem;\"></i>\r\n            </b-button>\r\n  \r\n  \r\n  </div>\r\n\r\n\r\n    </div>\r\n\r\n\r\n\r\n    <div class=\"ooll\" v-if=\"invitations.length === 0\">\r\n      <h3 style=\" margin: 10px;\r\n  padding: 10px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 1);\">No Invitations Received</h3>\r\n\r\n    </div>\r\n\r\n     \r\n     \r\n\r\n    \r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n    \r\n  </div>\r\n\r\n \r\n  </div>\r\n\r\n \r\n\r\n   \r\n  \r\n\r\n   \r\n\r\n  \r\n    <!-- Sliding Detail Modal -->\r\n    <b-modal\r\n      id=\"detail-modal\"\r\n      size=\"lg\"\r\n      hide-footer\r\n      v-model=\"showDetail\"\r\n      @hidden=\"showDetail = false\"\r\n      centered\r\n      class=\"slide-in\"\r\n\r\n\r\n    >\r\n      <template #modal-title>\r\n        Detail\r\n      </template>\r\n      <detail />\r\n    </b-modal>\r\n\r\n    \r\n</template>\r\n\r\n<script>\r\nimport detail from \"@/components/detail/detail.vue\"\r\nimport Toastify from 'toastify-js';\r\nimport 'toastify-js/src/toastify.css';\r\nimport { auth, firestore, storage } from '@/firebase/Config';\r\nimport { createUserWithEmailAndPassword ,sendPasswordResetEmail } from 'firebase/auth';\r\nimport { doc, updateDoc,setDoc ,collection,query,orderBy,getDocs,getDoc,where,limit,onSnapshot,getCountFromServer,arrayRemove,arrayUnion, Timestamp,addDoc} from 'firebase/firestore';\r\nimport { ref, uploadBytes, getDownloadURL ,deleteObject} from 'firebase/storage';\r\n\r\nexport default {\r\n  props:['invitations'],\r\n  components:{detail},\r\n  data() {\r\n    return {\r\n      text: \"\",\r\n      searchQuery:'',\r\n      showDetail: false,\r\n      empty:false\r\n\r\n    };\r\n  },\r\n  computed: {\r\n    filteredinvitaions() {\r\n      if (!this.searchQuery) {\r\n        return this.invitations;\r\n      }\r\n      return this.invitations.filter((invitation) => {\r\n        const query = this.searchQuery.toLowerCase();\r\n        if (invitation.type === 'discussion') {\r\n          return invitation.friendusername.toLowerCase().includes(query);\r\n        } else if (invitation.type === 'group') {\r\n          return invitation.groupname.toLowerCase().includes(query);\r\n        }\r\n        return false;\r\n      });\r\n    },\r\n  },methods:{\r\n    async acceptinvitation(invitation){\r\n      if(invitation.type === 'group'){\r\n            const ChatDocRef = doc(firestore, \"chats\", invitation.id);\r\n            const UserDocRef = doc(firestore, \"users\", auth.currentUser.uid);\r\n\r\n            try{\r\n              await updateDoc(ChatDocRef, {\r\n              sentinvitations: arrayRemove(auth.currentUser.uid)\r\n            });\r\n\r\n            await updateDoc(UserDocRef, {\r\n              invitations: arrayRemove({id:invitation.id,type:invitation.type})\r\n            });\r\n\r\n            await updateDoc(UserDocRef, {\r\n              chats: arrayUnion(invitation.id)\r\n            });\r\n\r\n            await updateDoc(ChatDocRef, {\r\n              senders: arrayUnion(auth.currentUser.uid)\r\n            });\r\n\r\n\r\n            }catch(error){\r\n                Toastify({\r\n              text: \"Something went Wrong\",\r\n              duration: 3000,\r\n              close: true,\r\n              gravity: \"bottom\", // `top` or `bottom`\r\n              position: \"right\", // `left`, `center` or `right`\r\n              backgroundColor: \"red\",\r\n            }).showToast();\r\n\r\n\r\n            }\r\n        //add chatid to user chats\r\n        // remove invitation from chat sent invitations\r\n\r\n      }\r\n      else{\r\n          //remove invitation from user invitations\r\n          // create chat and add its id to both user\r\n          // remove invitation from friend sent invitations\r\n          const friendDocRef = doc(firestore, \"users\", invitation.id);\r\n          const UserDocRef = doc(firestore, \"users\", auth.currentUser.uid);\r\n\r\n            try{\r\n              await updateDoc(friendDocRef, {\r\n              sentinvitations: arrayRemove(auth.currentUser.uid)\r\n            });\r\n\r\n            await updateDoc(UserDocRef, {\r\n              invitations: arrayRemove({id:invitation.id,type:invitation.type})\r\n            });\r\n\r\n            const chatDocRef = await addDoc(collection(firestore, \"chats\"),{senders:[invitation.id,auth.currentUser.uid],type:'discussion',createdat:Timestamp.now(),currentId:0});\r\n\r\n            await updateDoc(UserDocRef, {\r\n              chats: arrayUnion(chatDocRef.id)\r\n            });\r\n\r\n            await updateDoc(friendDocRef, {\r\n              chats: arrayUnion(chatDocRef.id)\r\n            });\r\n\r\n            await updateDoc(UserDocRef, {\r\n              friends: arrayUnion(invitation.id)\r\n            });\r\n\r\n            await updateDoc(friendDocRef, {\r\n              friends: arrayUnion(auth.currentUser.uid)\r\n            });\r\n\r\n           \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            }catch(error){\r\n                Toastify({\r\n              text: \"Something went Wrong\",\r\n              duration: 3000,\r\n              close: true,\r\n              gravity: \"bottom\", // `top` or `bottom`\r\n              position: \"right\", // `left`, `center` or `right`\r\n              backgroundColor: \"red\",\r\n            }).showToast();\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      }\r\n\r\n\r\n\r\n    },\r\n    async refuseinvitation(invitation){\r\n       if(invitation.type === 'group'){\r\n        //remove invitation from user invitations\r\n        // remove invitation from chat sent invitations\r\n          const ChatDocRef = doc(firestore, \"chats\", invitation.id);\r\n          const UserDocRef = doc(firestore, \"users\", auth.currentUser.uid);\r\n\r\n            try{\r\n              await updateDoc(ChatDocRef, {\r\n              sentinvitations: arrayRemove(auth.currentUser.uid)\r\n            });\r\n\r\n            await updateDoc(UserDocRef, {\r\n              invitations: arrayRemove({id:invitation.id,type:invitation.type})\r\n            });\r\n\r\n            \r\n\r\n\r\n            }catch(error){\r\n                Toastify({\r\n              text: \"Something went Wrong\",\r\n              duration: 3000,\r\n              close: true,\r\n              gravity: \"bottom\", // `top` or `bottom`\r\n              position: \"right\", // `left`, `center` or `right`\r\n              backgroundColor: \"red\",\r\n            }).showToast();\r\n\r\n\r\n            }\r\n\r\n      }\r\n      else{\r\n          //remove invitation from user invitations\r\n          // remove invitation from friend sent invitations\r\n          const friendDocRef = doc(firestore, \"users\", invitation.id);\r\n          const UserDocRef = doc(firestore, \"users\", auth.currentUser.uid);\r\n\r\n          try{\r\n              await updateDoc(friendDocRef, {\r\n              sentinvitations: arrayRemove(auth.currentUser.uid)\r\n            });\r\n\r\n            await updateDoc(UserDocRef, {\r\n              invitations: arrayRemove({id:invitation.id,type:invitation.type})\r\n            });\r\n\r\n\r\n            }catch(error){\r\n                Toastify({\r\n              text: \"Something went Wrong\",\r\n              duration: 3000,\r\n              close: true,\r\n              gravity: \"bottom\", \r\n              position: \"right\",\r\n              backgroundColor: \"red\",\r\n            }).showToast();\r\n\r\n\r\n            }\r\n          \r\n\r\n      }\r\n\r\n\r\n    }\r\n  }\r\n  \r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.iiiiiiiii{\r\n  background-color: hidden;\r\n\r\n  flex: 1;\r\n  overflow-y: scroll;\r\n  margin-bottom: 5px;\r\n\r\n}\r\n\r\n\r\n.chat {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  border-left: 1px solid #dddddd35;\r\n  border-right: 1px solid #dddddd35;\r\n}\r\n\r\n.ooll{\r\n  gap: 20px;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 10px;\r\n  padding: 10px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n\r\n.search {\r\n  gap: 20px;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin: 10px;\r\n  padding: 10px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.searchbar {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n.search-icon {\r\n  width: 20px;\r\n  height: 20px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.search-input {\r\n  flex-grow: 1;\r\n  padding: 10px;\r\n  border: 2px solid #007BFF;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.search-input:focus {\r\n  border-color: #0056b3;\r\n  box-shadow: 0 0 8px rgba(0, 123, 255, 0.5);\r\n}\r\n\r\n.add-icon {\r\n  width: 20px;\r\n  height: 20px;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n\r\n\r\n::-webkit-scrollbar {\r\n  width: 5px; /* Width of the scrollbar */\r\n  \r\n\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: transparent; /* Color of the track */\r\n   \r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background-color: transparent; /* Color of the thumb */\r\n  border-radius: 5px; /* Roundness of the thumb */\r\ntransition: background-color 0.1s ease; /* Smooth transition */\r\n\r\n   \r\n}\r\n\r\n.iiiiiiiii:hover::-webkit-scrollbar-thumb {\r\n  background-color: #888; /* Adjust as needed */\r\n\r\n}\r\n\r\n\r\n\r\n.search .searchbar{\r\n    background-color: rgba(17, 25, 40, 0.5);\r\n    gap: 20px;\r\n    border-radius: 10px;\r\n\r\n}\r\n\r\n.search .searchbar input{\r\n    background-color: transparent;\r\n    border: none;\r\n    outline: none;\r\n    color: white;\r\n    flex: 1;\r\n}\r\n\r\n.searchbar img{\r\n   width: 20px;\r\n   height: 20px;\r\n}\r\n\r\n\r\n\r\n.item{\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 20px;\r\n    padding: 20px;\r\n    border-bottom: 1px solid #dddddd35;\r\n\r\n}\r\n\r\n.item img{\r\n    width: 50px;\r\n    height: 50px;\r\n    border-radius: 50%;\r\n    object-fit: cover;\r\n\r\n}\r\n\r\n.texts{\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 10px;\r\n    \r\n}\r\n\r\n.texts span{\r\n    font-size: 500; \r\n}\r\n\r\n.texts p{\r\n    font-size: 14px;\r\n    font-weight: 300; \r\n}\r\n\r\n\r\n</style>\r\n","import { render } from \"./invitations.vue?vue&type=template&id=3f624ccc&scoped=true\"\nimport script from \"./invitations.vue?vue&type=script&lang=js\"\nexport * from \"./invitations.vue?vue&type=script&lang=js\"\n\nimport \"./invitations.vue?vue&type=style&index=0&id=3f624ccc&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3f624ccc\"]])\n\nexport default __exports__","import { render } from \"./Invitations.vue?vue&type=template&id=c9c616aa\"\nimport script from \"./Invitations.vue?vue&type=script&lang=js\"\nexport * from \"./Invitations.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n\r\n</template>\r\n\r\n<script>\r\nimport Toastify from 'toastify-js';\r\nimport 'toastify-js/src/toastify.css';\r\n\r\nimport { auth, firestore, storage } from '@/firebase/Config';\r\nimport { createUserWithEmailAndPassword ,sendPasswordResetEmail } from 'firebase/auth';\r\nimport { doc, updateDoc,setDoc ,collection,query,orderBy,getDocs,getDoc,where,limit,onSnapshot,getCountFromServer,arrayRemove,arrayUnion, Timestamp,addDoc} from 'firebase/firestore';\r\nimport { ref, uploadBytes, getDownloadURL ,deleteObject} from 'firebase/storage';\r\n\r\nimport loadingPage from '@/components/layout/loadingPage.vue';\r\n\r\n\r\n\r\n\r\nexport default {\r\n  components:{loadingPage},\r\n  async created(){\r\n\r\n    await this.fetch()\r\n\r\n\r\n  },\r\n  \r\n  data() {\r\n    return {\r\n      filteredfriends:[],\r\n      searchtag:'',\r\n      searchQuery:'',\r\n      searchResults:[],\r\n      text: \"\",\r\n      showDetail: false,\r\n      empty:false,\r\n      groupformactive:false,\r\n      groupMember:[],\r\n      groupname:\"\",\r\n        profilePicture: null,\r\n      profilePictureUrl: '',\r\n      defaultProfilePicture: require('../assets/default_group.jpg'), // Path to your default profile picture\r\n      user: {username:'error',profileImageUrl:null,chats:[]},\r\n      all:[],\r\n      loading:false,\r\n      progr:0\r\n\r\n    \r\n\r\n    };\r\n  },methods:{\r\n    onFileChange(event) {\r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        this.profilePicture = file;\r\n        this.profilePictureUrl = URL.createObjectURL(file);\r\n      }\r\n    },\r\n    searchUsers() {\r\n      if (this.searchQuery.trim() === '') {\r\n        this.searchResults = [];\r\n        return;\r\n      }\r\n      \r\n      const searchTerm = this.searchQuery.trim();\r\n\r\n      try {\r\n        this.searchResults = [];\r\n        \r\n        this.all.forEach((doc) => {\r\n        const userData = doc;\r\n        const username = userData.username.toLowerCase();\r\n       \r\n\r\n        if (username.includes(searchTerm.toLowerCase())) {\r\n\r\n          this.searchResults.push({ id: doc.id, ...userData });\r\n        }\r\n      });\r\n\r\n\r\n\r\n\r\n\r\n\r\n      } catch (error) {\r\n        Toastify({\r\n                    text: \"Error searching users\",\r\n                    duration: 3000,\r\n                    close: true,\r\n                    gravity: \"bottom\", // `top` or `bottom`\r\n                    position: \"right\", // `left`, `center` or `right`\r\n                    backgroundColor: \"red\",\r\n                  }).showToast();\r\n      }\r\n    },\r\n     async fetch(){\r\n        const userDocRef = doc(firestore, 'users', auth.currentUser.uid);\r\n        const usersDocRef =  collection(firestore, 'users');\r\n        const querySnapshot = await getDocs(usersDocRef);\r\n        this.all = querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n\r\n\r\n        onSnapshot(userDocRef, (snapshot) => {\r\n\r\n          if (snapshot.exists()) {\r\n          const temp = snapshot.data(); \r\n          this.user = {...temp,id:auth.currentUser.uid}\r\n           this.filteredfriends = this.all.filter(usert =>this.user.friends.includes(usert.id))\r\n\r\n        } else {\r\n           Toastify({\r\n            text: \"Something went Wrong\",\r\n            duration: 3000,\r\n            close: true,\r\n            gravity: \"bottom\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            backgroundColor: \"red\",\r\n          }).showToast();\r\n          \r\n        }\r\n\r\n\r\n         })\r\n        \r\n\r\n    },\r\n    async sendinvitation(friendid){\r\n      const friendDocRef = doc(firestore, \"users\", friendid);\r\n      const UserDocRef = doc(firestore, \"users\", auth.currentUser.uid);\r\n\r\n         try{\r\n            await updateDoc(friendDocRef, {\r\n              invitations: arrayUnion({id:auth.currentUser.uid,type:'discussion'})\r\n            });\r\n\r\n            await updateDoc(UserDocRef, {\r\n              sentinvitations: arrayUnion(friendid)\r\n            });\r\n\r\n            Toastify({\r\n              text: \"Invitation Sent Sucessfully\",\r\n              duration: 3000,\r\n              close: true,\r\n              gravity: \"bottom\", // `top` or `bottom`\r\n              position: \"right\", // `left`, `center` or `right`\r\n              backgroundColor: \"green\",\r\n            }).showToast();\r\n\r\n           \r\n           \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n            }catch(error){\r\n                Toastify({\r\n              text: \"something went wrong\",\r\n              duration: 3000,\r\n              close: true,\r\n              gravity: \"bottom\", // `top` or `bottom`\r\n              position: \"right\", // `left`, `center` or `right`\r\n              backgroundColor: \"red\",\r\n            }).showToast();\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n    },\r\n    async creategroup(){\r\n\r\n      if(this.groupMember.length === 0){\r\n        Toastify({\r\n        text: \"Choose at least one friend to add to the group\",\r\n        duration: 3000,\r\n        close: true,\r\n        gravity: \"bottom\", // `top` or `bottom`\r\n        position: \"right\", // `left`, `center` or `right`\r\n        backgroundColor: \"red\",\r\n      }).showToast();\r\n        return;\r\n      }\r\n      if(this.groupname.trim() === ''){\r\n        Toastify({\r\n        text: \"Choose a name for the group\",\r\n        duration: 3000,\r\n        close: true,\r\n        gravity: \"bottom\", // `top` or `bottom`\r\n        position: \"right\", // `left`, `center` or `right`\r\n        backgroundColor: \"red\",\r\n      }).showToast();\r\n        return;\r\n      }\r\n     \r\n      \r\n        \r\n      try {\r\n\r\n        this.loading = true\r\n          \r\n        this.progr = 30;\r\n\r\n        const members = this.all.filter(user=>[...this.groupMember].includes(user.username));\r\n\r\n        const chatDocRef = await addDoc(collection(firestore, \"chats\"),{senders:[auth.currentUser.uid],type:'group',createdat:Timestamp.now(),groupname:this.groupname,sentinvitations:[],groupicon:'',currentId:0,admin:auth.currentUser.uid});\r\n\r\n        this.progr = 50\r\n\r\n\r\n        const mmemberDocRef = doc(firestore, \"users\", auth.currentUser.uid);\r\n        await updateDoc(mmemberDocRef, {\r\n                chats: arrayUnion(chatDocRef.id)\r\n       });\r\n\r\n\r\n\r\n\r\n\r\n\r\n        this.progr = 70;\r\n\r\n\r\n\r\n        let profileImageUrl = '';\r\n\r\n\r\n        if (this.profilePicture) {\r\n          const storageRef = ref(storage, `group/${chatDocRef.id}/${this.profilePicture.name}`);\r\n          await uploadBytes(storageRef, this.profilePicture);\r\n          profileImageUrl = await getDownloadURL(storageRef);\r\n        }\r\n        else{\r\n          const defaultProfilePictureBlob = await this.fileToBlob(this.defaultProfilePicture);\r\n\r\n          const storageRef = ref(storage, `group/${chatDocRef.id}/default_group.png`);\r\n          await uploadBytes(storageRef, defaultProfilePictureBlob);\r\n          profileImageUrl = await getDownloadURL(storageRef);\r\n          \r\n        }\r\n\r\n        this.progr = 60;\r\n\r\n\r\n\r\n\r\n        await setDoc(doc(firestore, \"chats\",chatDocRef.id), {\r\n          groupicon:profileImageUrl\r\n          \r\n        },{ merge: true });\r\n\r\n\r\n        \r\n\r\n        members.forEach(async (member)=>{\r\n          \r\n            const memberDocRef = doc(firestore, \"users\", member.id);\r\n            const ChatDocRef = doc(firestore, \"chats\",chatDocRef.id);\r\n\r\n            await updateDoc(memberDocRef, {\r\n                invitations: arrayUnion({id:chatDocRef.id,type:'group'})\r\n              });\r\n\r\n            await updateDoc(ChatDocRef, {\r\n              sentinvitations: arrayUnion(member.id)\r\n            });\r\n\r\n\r\n\r\n        })\r\n\r\n\r\n      \r\n\r\n\r\n        this.progr = 100;\r\n\r\n\r\n\r\n\r\n      this.loading = false\r\n      this.groupformactive = false;\r\n\r\n        Toastify({\r\n        text: \"group Created\",\r\n        duration: 3000,\r\n        close: true,\r\n        gravity: \"bottom\", // `top` or `bottom`\r\n        position: \"right\", // `left`, `center` or `right`\r\n        backgroundColor: \"green\",\r\n      }).showToast();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      } catch (error) {\r\n          this.loading = false;\r\n          Toastify({\r\n        text: error.message,\r\n        duration: 3000,\r\n        close: true,\r\n        gravity: \"bottom\", // `top` or `bottom`\r\n        position: \"right\", // `left`, `center` or `right`\r\n        backgroundColor: \"red\",\r\n      }).showToast();\r\n          \r\n      }\r\n\r\n\r\n\r\n    }\r\n    , handleTagState(event) {\r\n\r\n      const temp = event.target.value\r\n      this.searchtag = temp;\r\n     \r\n      if (!temp) {\r\n        console.log([...this.groupMember])\r\n        this.filteredfriends = this.all.filter((usert) =>{\r\n   \r\n          return (this.user.friends.includes(usert.id) && ![...this.groupMember].includes(usert.username))\r\n          \r\n          \r\n          })\r\n      }\r\n      else{\r\n         this.filteredfriends = this.all.filter((user) => {\r\n          const username = user.username.toLowerCase();\r\n          return username.includes(temp.toLowerCase()) && this.user.friends.includes(user.id) &&  ![...this.groupMember].includes(user.username) ;  \r\n      });\r\n\r\n      }\r\n\r\n    \r\n      \r\n    }\r\n    ,\r\n    Validate(tag){\r\n      const tem = this.all.filter(user=>user.username === tag);\r\n      return (tem.length===1 && this.user.friends.includes(tem[0].id) && ![...this.groupMember].includes(tem[0].username))\r\n\r\n    }, \r\n    async  fileToBlob(filePath){\r\n  const response = await fetch(filePath);\r\n  const blob = await response.blob();\r\n  return blob;\r\n}\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import { render } from \"./AddnewCreateGroup.vue?vue&type=template&id=8ac08d64\"\nimport script from \"./AddnewCreateGroup.vue?vue&type=script&lang=js\"\nexport * from \"./AddnewCreateGroup.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <b-row class=\"iii\" style=\"overflow-y: scroll;height: 90vh;width:100%\">\r\n      <b-col cols=\"7\" class=\"animated-flex d-none d-xl-block op\"> \r\n        <intro />\r\n      </b-col>\r\n\r\n\r\n\r\n      <b-col  cols=\"12\" xl=\"5\" >\r\n        <div style=\" display: flex;\r\n  justify-content: center;\r\n  align-items:center ;\">\r\n\r\n          <div class=\"app-introduction animated-flex d-xl-none \">\r\n    <h2 style=\"color: rgba(255, 255, 233, 0.9); font-weight: bold;\">Welcome to ChatFlow!</h2><br>\r\n\r\n    \r\n  </div>\r\n        </div>\r\n        \r\n\r\n        <ResetPasswordForm/>\r\n      </b-col>\r\n\r\n\r\n\r\n\r\n      \r\n    </b-row>\r\n\r\n\r\n\r\n</template>\r\n\r\n<script>\r\nimport ResetPasswordForm from \"@/components/auth/ResetPasswordForm.vue\"\r\nimport intro from \"@/components/layout/intro.vue\"\r\nexport default {\r\n    components:{ResetPasswordForm,intro}\r\n    \r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.op{\r\n      border-right: 1px solid rgba(255, 255, 255, 0.125);\r\n\r\n        \r\n    }\r\n\r\n\r\n    ::-webkit-scrollbar {\r\n  width: 5px; /* Width of the scrollbar */\r\n  \r\n\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: transparent; /* Color of the track */\r\n   \r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background-color: transparent; /* Color of the thumb */\r\n  border-radius: 5px; /* Roundness of the thumb */\r\ntransition: background-color 0.1s ease; /* Smooth transition */\r\n\r\n   \r\n}\r\n\r\n.iii:hover::-webkit-scrollbar-thumb {\r\n  background-color: #888; /* Adjust as needed */\r\n\r\n}\r\n\r\n\r\n.app-introduction {\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 12px;\r\n  padding: 25px;\r\n  box-shadow: 0 6px 10px rgba(0, 0, 0, 0.15);\r\n  max-width: 350px;\r\n  color: #ffffff;\r\n  text-align: center; /* Centers the text inside the introduction div */\r\n}\r\n\r\n.app-introduction h2 {\r\n  font-size: 26px;\r\n}\r\n\r\n.app-introduction p {\r\n  font-size: 18px;\r\n  line-height: 1.4;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n</style>\r\n\r\n","<template>\r\n  <div class=\"login-container\">\r\n\r\n    <b-form class=\"login-card\" @submit.prevent=\"login\">\r\n        <h2>Reset Password</h2>\r\n      <b-form-group label=\"Email\" label-for=\"email-input\" class=\"w-100\">\r\n        \r\n        <b-form-input id=\"email-input\" v-model=\"email\" type=\"email\" required placeholder=\"Enter your email\"></b-form-input>\r\n      </b-form-group>\r\n     \r\n      <b-button type=\"submit\" variant=\"success\" class=\"ooopp w-100 mb-2\">Send</b-button>\r\n        <b-button @click=\"goToLogin\" variant=\"info\" class=\"ooooo w-100 mb-2\">Back to Login</b-button>\r\n\r\n    </b-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      email: '',\r\n      password: ''\r\n    };\r\n  },\r\n  methods: {\r\n    async login() {\r\n      try {\r\n        await auth.signInWithEmailAndPassword(this.email, this.password);\r\n        this.$router.push('/');\r\n      } catch (error) {\r\n        alert(error.message);\r\n      }\r\n    },\r\n    goToSignUp() {\r\n      this.$router.push('/signup');\r\n    },\r\n    goToResetPassword() {\r\n      this.$router.push('/reset-password');\r\n    },goToLogin() {\r\n        this.$router.push('/');\r\n      }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.login-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100%\r\n\r\n}\r\n\r\n.login-card {\r\n   display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column; \r\n  gap : 10px;\r\n  width: 100%;\r\n  max-width: 360px; /* Max width for the form */\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */\r\n}\r\ninput{\r\n  \r\n  \r\n  border-radius: 9px;\r\n  backdrop-filter: blur(19px) saturate(180%);\r\n  border: 1px solid rgba(255, 255, 255, 0.125);\r\n}\r\n.btn-block {\r\n  width: 100%;\r\n  margin-bottom: 10px; /* Margin between buttons */\r\n  background-color: rgba(151, 151, 204, 0.342);\r\n}\r\n\r\n/* Additional styles for form elements */\r\nb-form-input {\r\n  border-radius: 4px;\r\n}\r\n\r\n/* Styling for buttons for better UI consistency */\r\nb-button {\r\n  border-radius: 4px;\r\n}\r\n</style>\r\n","import { render } from \"./ResetPasswordForm.vue?vue&type=template&id=670e5366&scoped=true\"\nimport script from \"./ResetPasswordForm.vue?vue&type=script&lang=js\"\nexport * from \"./ResetPasswordForm.vue?vue&type=script&lang=js\"\n\nimport \"./ResetPasswordForm.vue?vue&type=style&index=0&id=670e5366&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-670e5366\"]])\n\nexport default __exports__","import { render } from \"./ResetPasswordPage.vue?vue&type=template&id=5184c4fe&scoped=true\"\nimport script from \"./ResetPasswordPage.vue?vue&type=script&lang=js\"\nexport * from \"./ResetPasswordPage.vue?vue&type=script&lang=js\"\n\nimport \"./ResetPasswordPage.vue?vue&type=style&index=0&id=5184c4fe&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5184c4fe\"]])\n\nexport default __exports__","<template>\r\n\r\n    <b-row class=\"d-xl-none mb-3\">\r\n      \r\n      \r\n\r\n      \r\n      \r\n      \r\n\r\n       \r\n      <b-row style=\"display:flex;flex-direction:column\">\r\n        \r\n   \r\n      <b-col v-b-tooltip.hover title=\"show contacts list\" style=\"cursor:pointer;margin-right:15px;margin-left:20px;margin-top:20px\">\r\n            <i @click=\"showList = true\"  class=\"bi bi-chat-fill\" style=\" font-size: 1.8rem;\"></i>\r\n      </b-col>\r\n      \r\n    </b-row>\r\n      \r\n      \r\n    </b-row>\r\n\r\n\r\n    <b-row class=\"oiwvoiwnev\" style=\"height: 90vh;width:100%;overflow-y: scroll; border-left: 1px solid #dddddd35;border-right: 1px solid #dddddd35;\">\r\n      <b-col cols=\"3\" class=\"animated-flex d-none d-xl-block\"> \r\n        <list  :chats=\"chats\" :profileimagelink=\"user.profileImageUrl\" :username=\"user.username\" />\r\n      </b-col>\r\n      <b-col cols=\"12\" xl=\"9\"  >    \r\n        <EditForm/>\r\n      </b-col>\r\n     \r\n    </b-row>\r\n\r\n    <!-- Sliding List Modal -->\r\n    <b-modal\r\n      id=\"list-modal\"\r\n      size=\"lg\"\r\n      hide-footer\r\n      v-model=\"showList\"\r\n      @hidden=\"resetModal\"\r\n      centered\r\n      class=\"slide-in\"\r\n    >\r\n      <template #modal-title>\r\n        List\r\n      </template>\r\n      <listmodal  :chats=\"chats\" :profileimagelink=\"user.profileImageUrl\" :username=\"user.username\"  />\r\n    </b-modal>\r\n\r\n    \r\n</template>\r\n\r\n<script>\r\nimport chat from \"../components/chat/chat.vue\";\r\nimport list from \"../components/list/list.vue\";\r\nimport detail from \"../components/detail/detail.vue\";\r\nimport listmodal from \"../components/modals/listmodal.vue\"\r\nimport EditForm from '@/components/auth/EditForm.vue';\r\nimport Toastify from 'toastify-js';\r\nimport 'toastify-js/src/toastify.css';\r\nimport { auth, firestore, storage } from '@/firebase/Config';\r\nimport { createUserWithEmailAndPassword ,sendPasswordResetEmail } from 'firebase/auth';\r\nimport { doc, setDoc ,collection,query,orderBy,getDocs,getDoc,where,limit,onSnapshot,getCountFromServer} from 'firebase/firestore';\r\nimport { ref, uploadBytes, getDownloadURL ,deleteObject} from 'firebase/storage';\r\nimport loadingPage from '@/components/layout/loadingPage.vue';\r\n\r\n\r\nexport default {\r\n  components: { chat, list, detail ,listmodal,EditForm },\r\n   async created(){\r\n    await this.fetch()\r\n  }\r\n  ,\r\n  data() {\r\n    return {\r\n      user:{username:'username',profileImageUrl:null,chats:[]},\r\n      chats:[],\r\n      loading:true,\r\n       listeners:{},\r\n      purge:[],\r\n      showList: false,\r\n      showDetail: false\r\n    };\r\n  },\r\n  computed: {\r\n    isMediumAndUp() {\r\n      return window.innerWidth >= 768;\r\n    }\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"resize\", this.handleResize);\r\n  },\r\n  async beforeUnmount(){\r\n    Object.values(this.listeners).forEach(func => {\r\n  \r\n      func();\r\n  \r\n    });\r\n\r\n    this.purge.forEach(func => func());\r\n\r\n  },\r\n  \r\n  beforeDestroy() {\r\n    window.removeEventListener(\"resize\", this.handleResize);\r\n  },\r\n  methods: {\r\n    handleResize() {\r\n      if (this.isMediumAndUp) {\r\n        this.showList = false;\r\n        this.showDetail = false;\r\n      }\r\n    },\r\n    resetModal() {\r\n      if (this.isMediumAndUp) {\r\n        this.showList = false;\r\n        this.showDetail = false;\r\n      }\r\n    },\r\n    async fetch(){\r\n\r\n      const userDocRef = doc(firestore, 'users', auth.currentUser.uid);\r\n\r\n        const o = await onSnapshot(userDocRef, (snapshot) => {\r\n\r\n          if (snapshot.exists()) {\r\n          const temp = snapshot.data(); \r\n          this.user.username = temp.username;\r\n          this.user.profileImageUrl = temp.profileImageUrl;\r\n          this.user.chats = temp.chats;\r\n          this.fetchdata(temp)\r\n\r\n        } else {\r\n           Toastify({\r\n            text: \"Something went Wrong\",\r\n            duration: 3000,\r\n            close: true,\r\n            gravity: \"bottom\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            backgroundColor: \"red\",\r\n          }).showToast();\r\n          \r\n        }\r\n\r\n\r\n         })\r\n        \r\n        this.purge.push(o)\r\n    },\r\n    async fetchdata(user){\r\n      if (user.chats && user.chats.length !== 0){\r\n          const chatsQuery = query(collection(firestore, 'chats'), where('__name__', 'in', user.chats));\r\n          const o = await onSnapshot(chatsQuery, (snapshot) => {\r\n            snapshot.docChanges().forEach(async (change) => {\r\n                if(change.type === 'added'){\r\n                const DOC = change.doc\r\n\r\n                const chat = {\r\n                  id: DOC.id,\r\n                  ...DOC.data()\r\n                }\r\n\r\n                let friend;\r\n                let friendid;\r\n                if (chat.senders[0] === auth.currentUser.uid){\r\n                   friendid = chat.senders[1];\r\n                }\r\n                else{\r\n                   friendid = chat.senders[0];\r\n                }\r\n                const chatDocRef = doc(firestore, 'chats', chat.id);\r\n                const messagesCollectionRef = collection(chatDocRef, 'message');\r\n                const messagesQuery = query(messagesCollectionRef, orderBy('ID', 'desc'));\r\n\r\n                const p = onSnapshot(messagesQuery, async (snapshot) => {\r\n            \r\n\r\n                              const querySnapshot = snapshot;\r\n                              let content;\r\n                              let time;\r\n                              let unreadmessages;\r\n\r\n                             \r\n\r\n\r\n\r\n                  \r\n\r\n                              if (chat.type === 'discussion'){\r\n                                const unreadMessagesQuery = query(messagesCollectionRef, where('unread', '==', true),where('author','!=',auth.currentUser.uid));\r\n                                const temp = await getCountFromServer(unreadMessagesQuery);\r\n                                unreadmessages = temp.data().count;\r\n\r\n                                        const userDocRef = doc(firestore, 'users',friendid);\r\n\r\n                                        if(!(friendid in this.listeners)){\r\n\r\n                                          const lis =  await onSnapshot(userDocRef,(doc)=>{\r\n                                              this.updatestatus({...doc.data(),id:doc.id});\r\n                                          })\r\n\r\n                                          this.listeners[friendid] = lis;\r\n\r\n                                        }\r\n\r\n                                        const userDoc = await getDoc(userDocRef);\r\n\r\n\r\n\r\n                                            if (userDoc.exists()) {\r\n                                              friend = {...userDoc.data(),id:userDoc.id};          \r\n                                            } else {\r\n                                              Toastify({\r\n                                                text: \"Something went Wrong\",\r\n                                                duration: 3000,\r\n                                                close: true,\r\n                                                gravity: \"bottom\", // `top` or `bottom`\r\n                                                position: \"right\", // `left`, `center` or `right`\r\n                                                backgroundColor: \"red\",\r\n                                              }).showToast();\r\n                                          \r\n                                            }\r\n\r\n                                      if (!querySnapshot.empty) {\r\n                                      // There is at least one message in the subcollection\r\n                                      const lastMessageDoc = querySnapshot.docs[0];\r\n                                      const lastMessageData = lastMessageDoc.data();\r\n                                      if (lastMessageData.type === 'text'){\r\n                                        content = lastMessageData.content;\r\n                                        time = lastMessageData.senttime;\r\n                                      }\r\n                                      else if(lastMessageData.type === 'image'){\r\n                                        content = 'Image Sent';\r\n                                        time = lastMessageData.senttime;\r\n\r\n                                      }\r\n                                      else{\r\n                                        content = 'document Sent';\r\n                                        time = lastMessageData.senttime;\r\n\r\n                                      }\r\n                                      \r\n                                    } else {\r\n                                        content = 'Invitation Accepted';\r\n                                        time = chat.createdat;\r\n                                    }\r\n\r\n\r\n                                      this.updater({...chat,friendusername:friend.username,friendpic:friend.profileImageUrl,content,time,unreadmessages,status:friend.status,friendid:friend.id})\r\n                                        \r\n\r\n                              }\r\n                              else{\r\n                                  const unreadMessagesQuery = query(messagesCollectionRef, where('readby', 'array-contains', auth.currentUser.uid),where('author','!=',auth.currentUser.uid));\r\n                                  const allMessagesQuery = query(messagesCollectionRef,where('author','!=',auth.currentUser.uid));\r\n\r\n                                  const temp = await getCountFromServer(unreadMessagesQuery);\r\n                                  const temp2 = await getCountFromServer(allMessagesQuery);\r\n                                  unreadmessages = temp2.data().count -  temp.data().count;\r\n                                  console.log(unreadmessages)\r\n\r\n                        \r\n                               \r\n\r\n                                if (!querySnapshot.empty) {\r\n                                // There is at least one message in the subcollection\r\n                                const lastMessageDoc = querySnapshot.docs[0];\r\n                                const lastMessageData = lastMessageDoc.data();\r\n                                if (lastMessageData.type === 'text'){\r\n                                  content = lastMessageData.content;\r\n                                  time = lastMessageData.senttime;\r\n                                }\r\n                                else if(lastMessageData.type === 'image'){\r\n                                  content = 'Image Sent';\r\n                                  time = lastMessageData.senttime;\r\n\r\n                                }\r\n                                else{\r\n                                  content = 'document Sent';\r\n                                  time = lastMessageData.senttime;\r\n\r\n                                }\r\n                                \r\n                                } else {\r\n                                  content = 'Invitation Accepted';\r\n                                  time = chat.createdat;\r\n                                }\r\n\r\n\r\n\r\n\r\n\r\n                                this.updater({...chat,time,content,unreadmessages})\r\n                              }\r\n\r\n\r\n\r\n\r\n                })\r\n                this.purge.push(p)}\r\n\r\n\r\n\r\n\r\n            });\r\n\r\n\r\n           })\r\n          this.purge.push(o)\r\n          this.loading = false;\r\n\r\n        }\r\n        else{\r\n          this.loading = false;\r\n        }\r\n\r\n\r\n    },\r\n    updater(data){\r\n      const index = this.chats.findIndex(obj => obj.id === data.id);\r\n\r\n      if(index === -1){\r\n        this.chats.push(data)\r\n      }\r\n      else{\r\n        this.chats[index] = data;\r\n      }\r\n      this.chats = [...this.chats].sort((a, b) => b.time.seconds - a.time.seconds);\r\n\r\n        console.log(this.chats)\r\n\r\n    },\r\n    updatestatus(data){\r\n      const index = this.chats.findIndex(obj =>obj.type==='discussion' && obj.friendid === data.id);\r\n\r\n      if(index !== -1){\r\n        this.chats[index].status = data.status;\r\n\r\n      }\r\n      \r\n\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    ::-webkit-scrollbar {\r\n  width: 5px; /* Width of the scrollbar */\r\n  \r\n\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: transparent; /* Color of the track */\r\n   \r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background-color: transparent; /* Color of the thumb */\r\n  border-radius: 5px; /* Roundness of the thumb */\r\ntransition: background-color 0.1s ease; /* Smooth transition */\r\n\r\n   \r\n}\r\n\r\n.oiwvoiwnev:hover::-webkit-scrollbar-thumb {\r\n  background-color: #888; /* Adjust as needed */\r\n\r\n}\r\n\r\n\r\n\r\n</style>","<template>\r\n  <div v-if=\"!loading\" class=\"auth-wrapper\">\r\n    <div class=\"auth-card\">\r\n      <div class=\"auth-header\">\r\n        <i class=\"fas fa-user-edit fa-3x\"></i>\r\n        <h2>Edit Profile</h2>\r\n        <p>Update your account details below</p>\r\n      </div>\r\n\r\n      <b-form @submit.prevent=\"edit\" class=\"auth-form\">\r\n        <div class=\"profile-picture-upload\">\r\n          <label for=\"profile-picture-input\" class=\"profile-picture-label\">\r\n            <img :src=\"profilePictureUrl || defaultProfilePicture\" alt=\"Profile Picture\" class=\"profile-picture\" />\r\n            <span>Upload an image</span>\r\n          </label>\r\n          <input id=\"profile-picture-input\" type=\"file\" @change=\"onFileChange\" accept=\"image/*\" class=\"form-control-file\" style=\"display:none;\">\r\n        </div>\r\n\r\n        <b-form-group label=\"Username\" label-for=\"username-input\" label-cols=\"12\" label-align-sm=\"left\">\r\n          <div class=\"input-group\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\"><i class=\"fas fa-user\"></i></span>\r\n            </div>\r\n            <b-form-input\r\n              id=\"username-input\"\r\n              v-model=\"username\"\r\n              type=\"text\"\r\n              required\r\n              placeholder=\"Choose a username\"\r\n              class=\"form-input\"\r\n              @input=\"changed=true\"\r\n            ></b-form-input>\r\n          </div>\r\n        </b-form-group>\r\n\r\n        <b-form-group label=\"Email\" label-for=\"email-input\" label-cols=\"12\" label-align-sm=\"left\">\r\n          <div class=\"input-group\">\r\n            <div class=\"input-group-prepend\">\r\n              <span class=\"input-group-text\"><i class=\"fas fa-envelope\"></i></span>\r\n            </div>\r\n            <b-form-input\r\n              id=\"email-input\"\r\n              v-model=\"email\"\r\n              type=\"email\"\r\n              disabled\r\n              required\r\n              placeholder=\"Enter your email\"\r\n              class=\"form-input\"\r\n            ></b-form-input>\r\n          </div>\r\n        </b-form-group>\r\n\r\n        <b-form-group label=\"Description\" label-for=\"desc-input\" label-cols=\"12\" label-align-sm=\"left\">\r\n          <textarea\r\n            id=\"desc-input\"\r\n            v-model=\"description\"\r\n            required\r\n            placeholder=\"Description\"\r\n            class=\"form-control form-input\"\r\n            style=\"border-radius: 7px;\"\r\n            @input=\"textareacchange=true\"\r\n          ></textarea>\r\n        </b-form-group>\r\n\r\n        <b-button type=\"submit\" variant=\"primary\" class=\"btn-auth w-100 mb-3\">\r\n          <i class=\"fas fa-save mr-2\"></i> Save Changes\r\n        </b-button>\r\n        <b-button :disabled=\"disabled_but\" @click=\"resetpassword\" variant=\"outline-danger\" class=\"btn-auth w-100 mb-2\">\r\n          <i class=\"fas fa-lock mr-2\"></i> Change Password\r\n        </b-button>\r\n      </b-form>\r\n    </div>\r\n\r\n    <loadingPage v-if=\"loadingg\" :progress=\"progr\" />\r\n  </div>\r\n</template>\r\n  \r\n  <script>\r\n  import Toastify from 'toastify-js';\r\n  import 'toastify-js/src/toastify.css';\r\n  import { auth, firestore, storage } from '@/firebase/Config';\r\n  import { createUserWithEmailAndPassword ,sendPasswordResetEmail } from 'firebase/auth';\r\n  import { doc, setDoc ,collection,query,getDocs,getDoc,where} from 'firebase/firestore';\r\n  import { ref, uploadBytes, getDownloadURL ,deleteObject} from 'firebase/storage';\r\n  import loadingPage from '@/components/layout/loadingPage.vue';\r\n\r\n\r\n  export default {\r\n    components:{loadingPage},\r\n    data() {\r\n      return {\r\n        initial:'',\r\n        textareacchange:false,\r\n        textareainitial:'',\r\n        changed:false,\r\n        loadingg:false,\r\n        progr:0,\r\n        disabled_but:false,\r\n        loading:true,\r\n        username: '',\r\n        description:'',\r\n        email: '',\r\n        profilePicture: null,\r\n        profilePictureUrl: '',\r\n        defaultProfilePicture: require('../../assets/default_user.png') // Path to your default profile picture\r\n    \r\n      };\r\n    },\r\n    async created(){\r\n      try{\r\n        const userDocRef = doc(firestore, 'users', auth.currentUser.uid);\r\n        const userDoc = await getDoc(userDocRef);\r\n\r\n        if (userDoc.exists()) {\r\n          const da =  userDoc.data();\r\n          this.username = da.username;\r\n          this.initial = da.username;\r\n          this.defaultProfilePicture = da.profileImageUrl;\r\n          this.email = da.email;\r\n          this.description = da.description;\r\n          this.textareainitial = da.description;\r\n          this.loading = false;\r\n          \r\n        } else {\r\n            this.$router.push('/');\r\n\r\n           Toastify({\r\n            text: \"Something went Wrong\",\r\n            duration: 3000,\r\n            close: true,\r\n            gravity: \"bottom\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            backgroundColor: \"red\",\r\n          }).showToast();\r\n          \r\n        } \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n      }catch (error){\r\n         Toastify({\r\n            text: error.message,\r\n            duration: 3000,\r\n            close: true,\r\n            gravity: \"bottom\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            backgroundColor: \"red\",\r\n          }).showToast();\r\n          this.$router.push('/');\r\n      }\r\n      \r\n\r\n\r\n    },\r\n    methods: {\r\n      async edit() {\r\n\r\n        if ((!this.textareacchange || this.textareainitial===this.description.trim()) && (!this.changed || this.initial===this.username.trim()) && !this.profilePicture){\r\n          return\r\n        }\r\n     \r\n        this.loadingg = true;\r\n\r\n\r\n\r\n    \r\n        try {\r\n\r\n          if (this.changed && this.initial !== this.username.trim()){\r\n          this.loadingg = true;\r\n          const q = query(collection(firestore,'users'),where('username','==',this.username.trim()));\r\n          const querySnapshot = await getDocs(q);\r\n          const verifiction = []\r\n          querySnapshot.forEach((doc)=>{\r\n            verifiction.push(doc.id)\r\n          });\r\n          this.progr = 30;\r\n\r\n          if (verifiction.length !== 0){\r\n            Toastify({\r\n            text: \"this Username is Already used\",\r\n            duration: 3000,\r\n            close: true,\r\n            gravity: \"bottom\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            backgroundColor: \"red\",\r\n          }).showToast();\r\n\r\n          this.loadingg = false;\r\n\r\n            return;\r\n          }\r\n\r\n      }\r\n       \r\n\r\n        this.progr = 60;\r\n\r\n\r\n\r\n        let profileImageUrl = '';\r\n\r\n\r\n        if (this.profilePicture) {\r\n\r\n          const oldImageRef = ref(storage, this.defaultProfilePicture);\r\n          await deleteObject(oldImageRef);\r\n\r\n\r\n\r\n          const storageRef = ref(storage, `profileimages/${auth.currentUser.uid}/${this.profilePicture.name}`);\r\n          await uploadBytes(storageRef, this.profilePicture);\r\n          profileImageUrl = await getDownloadURL(storageRef);\r\n          this.progr = 80;\r\n\r\n          await setDoc(doc(firestore, 'users', auth.currentUser.uid), {\r\n          email: this.email,\r\n          username: this.username,\r\n          description:this.description,\r\n          profileImageUrl\r\n        },{ merge: true });\r\n        }\r\n        else{\r\n          await setDoc(doc(firestore, 'users', auth.currentUser.uid), {\r\n          email: this.email,\r\n          username: this.username.trim(),\r\n          description:this.description.trim(),\r\n        },{ merge: true });\r\n        }\r\n        \r\n\r\n\r\n        this.progr = 100;\r\n\r\n\r\n\r\n\r\n        this.$router.push('/'); // Redirect to homepage or dashboard after registration\r\n        Toastify({\r\n        text: \"Profile edited Successfully\",\r\n        duration: 3000,\r\n        close: true,\r\n        gravity: \"bottom\", // `top` or `bottom`\r\n        position: \"right\", // `left`, `center` or `right`\r\n        backgroundColor: \"green\",\r\n      }).showToast();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        } catch (error) {\r\n          this.loadingg = false;\r\n          Toastify({\r\n        text: error.message,\r\n        duration: 3000,\r\n        close: true,\r\n        gravity: \"bottom\", // `top` or `bottom`\r\n        position: \"right\", // `left`, `center` or `right`\r\n        backgroundColor: \"red\",\r\n      }).showToast();\r\n          \r\n        }\r\n      },\r\n      goToLogin() {\r\n        this.$router.push('/');\r\n      },\r\n      onFileChange(event) {\r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        this.profilePicture = file;\r\n        this.profilePictureUrl = URL.createObjectURL(file);\r\n      }\r\n\r\n      },\r\n      async resetpassword(){\r\n      try {\r\n        this.disabled_but = true;\r\n        await sendPasswordResetEmail(auth, this.email);\r\n\r\n         Toastify({\r\n            text: \"An email was sent to your mailbox to reset your password\",\r\n            duration: 3000,\r\n            close: true,\r\n            gravity: \"bottom\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            backgroundColor: \"green\",\r\n          }).showToast();\r\n        this.disabled_but = false;\r\n\r\n\r\n\r\n      } catch (error) {\r\n         Toastify({\r\n            text: 'Failed to send password reset email. Please check the email address and try again.',\r\n            duration: 3000,\r\n            close: true,\r\n            gravity: \"bottom\", // `top` or `bottom`\r\n            position: \"right\", // `left`, `center` or `right`\r\n            backgroundColor: \"red\",\r\n          }).showToast();\r\n        this.disabled_but = false;\r\n\r\n      }\r\n\r\n    },\r\n    },\r\n  };\r\n  </script>\r\n\r\n\r\n<style scoped>\r\n@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css');\r\n\r\n.auth-wrapper {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n}\r\n\r\n.auth-card {\r\n  background-color: #ffffff;\r\n  padding: 2.5rem;\r\n  border-radius: 16px;\r\n  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.1);\r\n  width: 100%;\r\n  max-width: 420px;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.auth-header {\r\n  text-align: center;\r\n  margin-bottom: 1.5rem;\r\n  color: #333333;\r\n}\r\n\r\n.auth-header i {\r\n  margin-bottom: 0.5rem;\r\n  color: #007bff;\r\n}\r\n\r\n.auth-header h2 {\r\n  font-weight: 700;\r\n  margin-bottom: 0.3rem;\r\n}\r\n\r\n.auth-header p {\r\n  font-size: 0.9rem;\r\n  color: #6c757d;\r\n}\r\n\r\n.profile-picture-upload {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.profile-picture {\r\n  width: 100px;\r\n  height: 100px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  border: 2px solid #ccc;\r\n}\r\n\r\n.auth-form .input-group-prepend .input-group-text {\r\n  background-color: #e9ecef;\r\n}\r\n\r\n.form-input {\r\n  transition: border-color 0.3s ease, box-shadow 0.3s ease;\r\n}\r\n\r\n.form-input:focus {\r\n  border-color: #007bff;\r\n  box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);\r\n}\r\n\r\n.btn-auth {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 600;\r\n  padding: 0.75rem;\r\n  border-radius: 8px;\r\n  transition: background-color 0.3s ease, transform 0.3s ease;\r\n}\r\n\r\n.btn-auth i {\r\n  margin-right: 0.5rem;\r\n}\r\n\r\n.btn-auth:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.btn-auth:active {\r\n  transform: translateY(0);\r\n  box-shadow: none;\r\n}\r\n</style>\r\n  ","import { render } from \"./EditForm.vue?vue&type=template&id=d85c1f32&scoped=true\"\nimport script from \"./EditForm.vue?vue&type=script&lang=js\"\nexport * from \"./EditForm.vue?vue&type=script&lang=js\"\n\nimport \"./EditForm.vue?vue&type=style&index=0&id=d85c1f32&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d85c1f32\"]])\n\nexport default __exports__","import { render } from \"./Profile.vue?vue&type=template&id=c6560406&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=c6560406&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c6560406\"]])\n\nexport default __exports__","<template>\r\n  <div  class=\"loading-page\">\r\n    <div class=\"loading-icon\">\r\n      <!-- Add your animated loading icon here -->\r\n      <!-- Example: -->\r\n    <i class=\"bi bi-file-earmark-excel-fill\" style=\" font-size: 5rem;\"></i>\r\n\r\n    </div>\r\n          <h1>404 - Page Not Found</h1>\r\n          <h5>The requested page does not exist.</h5>\r\n                <b-button @click=\"this.$router.push('/')\" variant=\"secondary\" class=\"ooopp w-50 mb-2\">Back to Home</b-button>\r\n\r\n\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"progress\"]\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.loading-page {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 9999; /* Ensure it's on top of other content */\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n}\r\n\r\n.loading-icon {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.loading-bar-container {\r\n  width: 300px;\r\n  height: 5px;\r\n  background-color: #cccccc58;\r\n  border-radius: 5px;\r\n  overflow: hidden;\r\n}\r\n\r\n.loading-bar {\r\n  height: 100%;\r\n  background-color: white; /* Change color as needed */\r\n  transition: width 0.2s ease; /* Add smooth transition effect */\r\n}\r\n\r\n\r\n</style>\r\n","import { render } from \"./NotFoundPage.vue?vue&type=template&id=a9776d0c&scoped=true\"\nimport script from \"./NotFoundPage.vue?vue&type=script&lang=js\"\nexport * from \"./NotFoundPage.vue?vue&type=script&lang=js\"\n\nimport \"./NotFoundPage.vue?vue&type=style&index=0&id=a9776d0c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a9776d0c\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router';\r\nimport Home from '../views/Home.vue';\r\nimport LoginPage from '../views/LoginPage.vue';\r\nimport RegisterPage from '../views/RegisterPage.vue';\r\nimport Chat from '../views/Chat.vue';\r\nimport Invitations from '../views/Invitations.vue';\r\nimport AddnewCreateGroup from '../views/AddnewCreateGroup.vue';\r\nimport ResetPasswordPage from '../views/ResetPasswordPage.vue';\r\nimport Profile from '../views/Profile.vue';\r\nimport NotFoundPage from \"../views/NotFoundPage.vue\"\r\nimport { auth } from '../firebase/Config.js';\r\n\r\n\r\n\r\nconst routes = [\r\n  { path: '/', component: Home ,meta: { requiresAuth: true }  },\r\n  { path: '/login', component: LoginPage },\r\n  { path: '/signup', component: RegisterPage },\r\n  { path: '/chat/:chatid', component: Chat, props: true ,meta: { requiresAuth: true }  }, // Pass props to Chat component\r\n  { path: '/invitations', component: Invitations ,meta: { requiresAuth: true }  },\r\n  { path: '/add-user-group', component: AddnewCreateGroup,meta: { requiresAuth: true }   },\r\n  { path: '/reset-password', component: ResetPasswordPage ,},\r\n  { path: '/profile', component: Profile,meta: { requiresAuth: true }   },\r\n  { path: '/:catchAll(.*)', component: NotFoundPage }\r\n];\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  const requiresAuth = to.matched.some(record => record.meta.requiresAuth);\r\n  const currentUser = auth.currentUser;\r\n  /*\r\n  if (requiresAuth && !currentUser) {\r\n    next('/login');\r\n  } else {\r\n    next();\r\n  }*/\r\n\r\n  if (requiresAuth) {\r\n    // Listen for authentication state changes\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        // User is logged in, allow access to the route\r\n        next();\r\n      } else {\r\n        next('/login');\r\n      }\r\n    });\r\n  } else {\r\n    next();\r\n  }\r\n\r\n});\r\n\r\nexport default router;\r\n","import { createApp } from 'vue';\r\nimport App from './App.vue';\r\nimport router from './router';\r\nimport BootstrapVue3 from 'bootstrap-vue-3';\r\nimport './assets/tailwind.css';\r\n\r\n\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap-vue-3/dist/bootstrap-vue-3.css';\r\nimport 'bootstrap-icons/font/bootstrap-icons.css';\r\nimport '@fortawesome/fontawesome-free/css/all.min.css';\r\n\r\n\r\n\r\nconst app = createApp(App);\r\napp.use(BootstrapVue3);\r\napp.use(router);\r\napp.mount('#app');\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + \"e3e22705\" + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"CS-Chat-App:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkCS_Chat_App\"] = self[\"webpackChunkCS_Chat_App\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(1564); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["_createBlock","_component_b_container","class","default","_withCtx","_createVNode","_component_RouterView","_","data","showModal","mounted","beforeDestroy","methods","handleBeforeUnload","event","handleLeave","this","window","removeEventListener","cancelLeave","__exports__","render","_createElementBlock","_Fragment","_component_b_row","style","_component_b_col","title","_createElementVNode","onClick","_cache","$event","$data","showList","hover","cols","_component_list","chats","profileimagelink","user","profileImageUrl","username","xl","_component_welcomePage","_component_b_modal","id","size","modelValue","onHidden","$options","resetModal","centered","_createTextVNode","_component_listmodal","key","ref","for","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","chatdata","type","src","friend","alt","_hoisted_5","_createCommentVNode","groupicon","_hoisted_6","_normalizeClass","friendstatus","_hoisted_7","_hoisted_8","_toDisplayString","_hoisted_9","groupname","_hoisted_10","_hoisted_11","_hoisted_12","showDetail","_hoisted_13","_renderList","messages","message","index","author","currentuser","_hoisted_14","_hoisted_15","downloadFile","content","_hoisted_16","messagecontent","formatTimeAgo","senttime","_hoisted_18","_hoisted_17","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","filename","_hoisted_24","_hoisted_23","_hoisted_26","_hoisted_25","_hoisted_27","_component_FilePreview","files","selectedFiles","onRemoveFile","removeFile","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","onChange","args","handleFileChange","multiple","hidden","accept","text","placeholder","_hoisted_32","toggleEmojiPicker","_component_b_button","send","_hoisted_33","loading","_component_loadingPage","progress","progr","_component_detail","mess","description","admin","uuusers","_component_b_card","_component_b_card_header","variant","_ctx","expanded","_component_b_collapse","_component_b_form_tags","groupMember","Validate","separator","onKeyup","handleTagState","invite","filteredimages","image","removefriend","quitGroup","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","initializeApp","auth","getAuth","firestore","getFirestore","storage","getStorage","_normalizeStyle","width","$props","props","components","loadingPage","all","purge","filteredfriends","members","currentUser","uid","fetch","fetchusers","usersDocRef","collection","querySnapshot","getDocs","docs","map","doc","userDocRef","ChatDocRef","purgehere","onSnapshot","async","docSnapshot","exists","chatData","friendid","senders","userDoc","getDoc","Toastify","duration","close","gravity","position","backgroundColor","showToast","$router","push","o","snapshot","temp","filter","usert","friends","includes","beforeUnmount","forEach","func","messagesCollectionRef","UserDocRef","friendDocRef","updateDoc","arrayRemove","filteredfiles","length","dirRef","listResults","listAll","deletePromises","items","itemRef","deleteObject","Promise","subcollectionSnapshot","deleteDoc","error","url","open","ddirRef","llistResults","ddeletePromises","cChatDocRef","mmessagesCollectionRef","i","counterDocRef","q","currentId","addDoc","Timestamp","now","unread","readby","ID","mem","asyncTasks","memberid","tag","tem","target","value","searchtag","toLowerCase","console","log","work","memberDocRef","member","invitations","arrayUnion","sentinvitations","location","reload","removeuser","idd","watch","handler","immediate","computed","file","startsWith","name","$emit","detail","FilePreview","first","friendlistener","listener","picker","EmojiButton","maxFileSize","sound","useSound","require","volume","targetElement","$refs","targetscroll","scrollIntoView","behavior","on","emoji","togglePicker","splice","reader","FileReader","onload","e","result","readAsDataURL","arg","ppppppplla","play","trim","getnextid","scrolllll","promises","split","uniqueName","Date","uuidv4","storageRef","uploadBytes","getDownloadURL","messageType","parseInt","myInput","focus","getNextId","newId","runTransaction","counterDoc","transaction","get","update","timestamp","sentTime","seconds","formatDistanceToNow","addSuffix","fetchmessages","messagesQuery","query","orderBy","newMessages","docChanges","change","ooooo","pmoinoanc","pppppp","oooooo","ooounin","ienoeunfwf","sort","a","b","$nextTick","fetchchat","chatid","Check","tt","assignuserlistener","status","_component_userinfo","_component_chatlist","_component_b_form_input","searchQuery","filteredChats","chat","friendpic","friendusername","unreadmessages","addMode","second","_component_b_navbar","toggleable","_component_b_navbar_toggle","_component_b_avatar","numberofinvitations","_component_b_navbar_nav","_component_b_nav_item","to","_withModifiers","showconfirmation","_component_logoutconfirmation","onLogout","logout","onClose","script","BAvatar","BDropdown","BDropdownItem","logoutconfirmation","signOut","created","userinfo","chatlist","onInput","performSearch","undefined","list","listmodal","welcomePage","listeners","isMediumAndUp","innerWidth","addEventListener","handleResize","Object","values","fetchdata","chatsQuery","where","DOC","chatDocRef","p","time","unreadMessagesQuery","getCountFromServer","count","lis","updatestatus","empty","createdat","lastMessageDoc","lastMessageData","updater","allMessagesQuery","temp2","findIndex","obj","_component_intro","_component_LoginForm","_component_b_form","onSubmit","login","_component_b_form_group","label","email","required","password","showPassword","togglePasswordVisibility","_component_b_form_checkbox","rememberMe","_component_b_link","goToResetPassword","goToSignUp","href","signInWithEmailAndPassword","lastLogin","localStorage","setItem","removeItem","savedEmail","getItem","_imports_0","LoginForm","intro","_component_RegisterForm","register","profilePictureUrl","defaultProfilePicture","onFileChange","confirmPassword","goToLogin","profilePicture","userCredential","createUserWithEmailAndPassword","setDoc","URL","createObjectURL","fileToBlob","filePath","response","blob","RegisterForm","doneloading","_component_chat","_component_invitations","filteredinvitaions","invitation","acceptinvitation","refuseinvitation","invit","chatreceived","searchResults","groupformactive","searchUsers","searchTerm","userData","sendinvitation","creategroup","mmemberDocRef","defaultProfilePictureBlob","merge","_component_ResetPasswordForm","alert","ResetPasswordForm","_component_EditForm","edit","changed","disabled","textareacchange","disabled_but","resetpassword","loadingg","initial","textareainitial","da","verifiction","oldImageRef","sendPasswordResetEmail","EditForm","routes","path","component","Home","meta","requiresAuth","LoginPage","RegisterPage","Chat","Invitations","AddnewCreateGroup","ResetPasswordPage","Profile","NotFoundPage","router","createRouter","history","createWebHistory","beforeEach","from","next","matched","some","record","onAuthStateChanged","createApp","App","use","BootstrapVue3","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","r","n","getter","__esModule","d","leafPrototypes","getProto","getPrototypeOf","__proto__","t","mode","then","ns","create","def","current","indexOf","getOwnPropertyNames","definition","defineProperty","enumerable","f","chunkId","reduce","u","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","document","getElementsByTagName","s","getAttribute","createElement","charset","timeout","nc","setAttribute","onScriptComplete","prev","onerror","clearTimeout","doneFns","parentNode","removeChild","setTimeout","bind","head","appendChild","Symbol","toStringTag","installedChunks","installedChunkData","promise","resolve","reject","Error","loadingEnded","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}